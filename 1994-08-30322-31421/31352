Newsgroups: sci.crypt
Path: msuinfo!agate!ihnp4.ucsd.edu!usc!nic-nac.CSU.net!charnel.ecst.csuchico.edu!csusac!csus.edu!netcom.com!jathomas
From: jathomas@netcom.com (John A. Thomas)
Subject: Re: My hardware RNG part III
Message-ID: <jathomasCvBtun.CuJ@netcom.com>
Organization: NETCOM On-line Communication Services (408 261-4700 guest)
X-Newsreader: TIN [version 1.2 PL1]
References: <Cv83D8.KJv@dorsai.org>
Date: Tue, 30 Aug 1994 02:35:10 GMT
Lines: 43

Steve_Allen (stevalln@dorsai.org) wrote:
:    I continue to fiddle with my random number generator. Here's the
: latest report:
:    The previous version (2 oscillators: 4KHz, really noisy; 180KHz,
: relatively stable) suffered from noise spikes getting into the
: power supply. I couldn't get the noise out of my noise generator! I
: decided that the 74HC00 nand gate, which comprised the high-speed
: oscillator and which was the source of the spikes, had to go.

I'm glad you tried Johnson's scheme.  I didn't like the idea of biasing a 
digital gate into its linear region just to get an amplifier, but if it 
worked, it would give you and RNG with only two packages.  Looks like we 
really need to be more careful amplifying the analog noise.

:    Well, even with such elaborate care given to the input signal,
: the counter stubbornly insisted on putting out too many 1s. For
: every 8000 bits it would average 4050 1s and 3950 0s. This was
: regardless of which output (/2, /4, /8, /16) I sampled. I went nuts
: for two weeks over this! My best guess was some kind of obscure
: internal glitch due to improper signal conditioning (thus the
: low-pass filters, etc.)....
:    I ended up ditching the counter. In its place I now use a 4013
: dual D flip-flop. The first ff is configured as a /2, which
: neutralizes any offset in the analog section. The second ff is
: controlled by the PIC processor to freeze new data for reading.

I'm also having trouble getting my almost-perfect RNG to give equal 
numbers of 1 and 0 bits.  I think I'll try your flip-flop in the gated 
bit stream I'm using.  I had no luck with synchronizing the clock (the 
high-speed bit stream) with either the read-enable strobe or the edge of 
the random pulses.

:    Wow. Now I see NO aberrant noise in any of the analog, and the
: output spectrum is wonderfully flat. Current consumption is 8.5 mA
: @ 9 volts. I am hopeful that this will turn out to be a pretty robust
: design.
:    Testing (and fiddling) continues.

Do you have any statistics on this latest set-up?

John A. Thomas
jathomas@netcom.com

