Path: msuinfo!uwm.edu!psuvax1!news.ecn.bgu.edu!usenet.ins.cwru.edu!howland.reston.ans.net!usc!rand.org!mycroft.rand.org!not-for-mail
From: jim@mycroft.rand.org (Jim Gillogly)
Newsgroups: sci.crypt
Subject: Re: One-line one-time pads
Date: 20 Aug 1994 15:24:43 -0700
Organization: Banzai Institute
Lines: 21
Message-ID: <335vrb$fqp@mycroft.rand.org>
References: <sci.crypt.research-RFD1@uunet.uu.net> <33372v$gts@nyx.cs.du.edu> <333e6p$e9u@mycroft.rand.org> <333rpd$r4k@nyx.cs.du.edu>
NNTP-Posting-Host: mycroft.rand.org

In response to my one-liner:
  main(c,a)char**a;{c=open(*++a,0);while(read(c,*a,1))putchar(**a^getchar());}

Michael Shields <mjshield@nyx.cs.du.edu> wrote:
>Unfortunately, it doesn't stop at EOF.  You'd have to say:
>
>main(c,a)char**a;{c=open(*++a,0);while(0<=read(c,*a,1))putchar(**a^getchar());}
>
>You could say just `0<' if you're sure it's a nonblocking input.

The read(2) man page on my Sun says:

     int read(fd, buf, nbyte)
...
     If nbyte is not zero and read() returns 0, then EOF has been reached.

Seems to find EOF on a sample of one system (SunOS 4.1.3)... I don't claim
an exhaustively portable solution.
-- 
	Jim Gillogly
	28 Wedmath S.R. 1994, 22:24
