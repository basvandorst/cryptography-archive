Path: msuinfo!agate!trib.apple.com!olivea!charnel.ecst.csuchico.edu!nic-nac.CSU.net!ctp.org!not-for-mail
From: jomcgow@eis.calstate.edu (John S. McGowan)
Newsgroups: sci.crypt
Subject: Re: PGP math
Date: 25 Aug 1994 15:14:46 -0700
Organization: California Technology Project of The Calif State Univ
Lines: 64
Message-ID: <33j54m$7ho@eis.calstate.edu>
References: <33fto6$593@news1.shell>
NNTP-Posting-Host: eis.calstate.edu

hfinney@shell.portal.com (Hal) writes:

> PGP uses the Fermat test with bases 2,3,5, and 7, I think.  Does this
> ensure that the number is either prime or Carmichael?  Isn't another
> possibility that tests with more bases would fail the Fermat test, in
> which case the number is neither prime nor Carmichael?  Or are these
> four bases enough to ensure that the Fermat test would be passed for all
> bases?
> 

It is hard to PROVE a number prime (or prime or carmichael)... this will 
not ensure it is not composite... but, if you worry, put in some more 
primes (if you are worried) and you can be "reliably" sure it is prime or 
Carmichael... then do some Miller Rabin just to try to check the 
Carmichael part.

> Two more points.  The probability of Carmichael numbers is extremely
> low for numbers of 500 bits and up.  How does the frequency of accidentally
> finding a Carmichael number and thinking it prime compare with the frequency
> of an error in the computer hardware causing the program to misidentify
> an ordinary composite as prime?  When you are dealing with error probabilities
> in the range of 1/2 to the hundreds, a lot of other things are going to go
> wrong before you have to worry about Carmichaels.

True... there are so few Carmichaels they can almost surely be guaranteed 
not to come up for anybody, ever... but if they do come up... you won't 
notice it.

> 
> Also, as far as the "magic" number idea, numbers which have all small
> factors are called, I think, "smooth".  I believe many of the modern
> factoring algorithms work by trying to find smooth numbers (at least, the
> CFRAC did).  They are not easy to find at random!  Again, before spending
> time hoping to find a PGP key with p and q such that p-1 and/or q-1 are
> smooth, you need to get an estimate of the probability of it occuring.

I have an asymtotic formula that workds for large n... that is on the 
order of exp(exp(T))... not good enough for T a poly in log(n) however... 
it is true that large numbers have about ln(ln(n)) disitinct prime 
factors, but this does not help in showing that most of the time the 
largest is over ln(n)... finally, if one can read over, say, .01% of the 
messages, that suffices (if I could get all the messages containing a 
credit card number, I don't have to read many)... I have a formula for 
the number of messages that have orders containing all primes smaller 
than P_T... if n=pq, p,q primes... ignore the fraction (1-1/p)(1-1/q) 
that are not relatively prime to n... if you know the factorization... 
say it is your key... take phi(n)=(p-1)(q-1)... factor out all the twos 
you can... then the threes... then the fives... all the way up to P_T... 
call the result S (=the part of Phi(n) made up of prime factors larger 
than P_T).. 1/S is the fraction of messages relatively prime to n which 
have small prime factors... if p-1, q-1 have large (one the order of a 
root of n) prime factors, so does S and this is very small... if all the 
prime factors of phi(n) are small, S=1 and all messages are decodable.

> 
> Hal Finney
> hfinney@shell.portal.com

--
   John S. McGowan   |    jmcgowan@bigcat.missouri.edu [COIN] (preferred)
                     |    j.mcgowan15@genie.geis.com   [GEnie]
                     |    jomcgow@eis.calstate.edu     [CORE]
   ----------------------------------------------------------------------

