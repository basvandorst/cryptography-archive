Path: msuinfo!agate!library.ucla.edu!europa.eng.gtefsd.com!howland.reston.ans.net!vixen.cso.uiuc.edu!sdd.hp.com!decwrl!svc.portal.com!portal.com!hfinney
From: hfinney@shell.portal.com (Hal)
Newsgroups: sci.crypt
Subject: Re: PGP math
Date: 24 Aug 1994 16:50:14 GMT
Organization: Portal Communications (shell)
Lines: 36
Message-ID: <33fto6$593@news1.shell>
References: <33ec7k$lg0@eis.calstate.edu>
NNTP-Posting-Host: jobe.shell.portal.com

jomcgow@eis.calstate.edu (John S. McGowan) writes a very interesting
article that goes beyond the usual introductions:

>The Fermat test used by PGP is fine to ensure (very reliably) that one
>has either a Carmichael composite or a prime (for p,q) (throw in some
>more primes in the Fermat test if you are paranoid about it)... but
>other tests (Miller-Rabin) should be used to kill the Carmichael
>possibility.

PGP uses the Fermat test with bases 2,3,5, and 7, I think.  Does this
ensure that the number is either prime or Carmichael?  Isn't another
possibility that tests with more bases would fail the Fermat test, in
which case the number is neither prime nor Carmichael?  Or are these
four bases enough to ensure that the Fermat test would be passed for all
bases?

Two more points.  The probability of Carmichael numbers is extremely
low for numbers of 500 bits and up.  How does the frequency of accidentally
finding a Carmichael number and thinking it prime compare with the frequency
of an error in the computer hardware causing the program to misidentify
an ordinary composite as prime?  When you are dealing with error probabilities
in the range of 1/2 to the hundreds, a lot of other things are going to go
wrong before you have to worry about Carmichaels.

Also, as far as the "magic" number idea, numbers which have all small
factors are called, I think, "smooth".  I believe many of the modern
factoring algorithms work by trying to find smooth numbers (at least, the
CFRAC did).  They are not easy to find at random!  Again, before spending
time hoping to find a PGP key with p and q such that p-1 and/or q-1 are
smooth, you need to get an estimate of the probability of it occuring.
Otherwise you might as well just try guessing p and q themselves.  You
could always get lucky, I suppose, but your odds are probably much better
buying lottery tickets.

Hal Finney
hfinney@shell.portal.com
