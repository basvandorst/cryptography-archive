#-----------------------------------------------------------------------------# Copyright (c) 1990 Regents of the University of Michigan.# All rights reserved.## Redistribution and use in source and binary forms are permitted# provided that this notice is preserved and that due credit is given# to the University of Michigan at Ann Arbor. The name of the University# may not be used to endorse or promote products derived from this# software without specific prior written permission. This software# is provided ``as is'' without express or implied warranty.##       lightweight ber library makefile##-----------------------------------------------------------------------------LDAPSRC	= ..PGPLIBS = ../../..OUTDIR  = $(LDAPSRC)/unixPGPCDKDIR = $(PGPLIBS)/pgpcdkPGPPFLDIR = $(LDAPSRC)/../../pflPGPCDKINCLUDES = -I$(PGPCDKDIR)/pub/include -I$(PGPCDKDIR)/unixPGPPFLINCLUDES = -I$(PGPPFLDIR)/common -I$(PGPPFLDIR)/unixSRCS	= decode.c encode.c io.c bprint.c pgpSrvMem.cOBJS	= decode.o encode.o io.o bprint.o pgpSrvMem.oHDIR	= -I$(LDAPSRC)/include -I$(LDAPSRC)/pgpsocketsINCLUDES= $(HDIR) $(PGPCDKINCLUDES) $(PGPPFLINCLUDES)DEFINES	= $(DEFS) -DPGPSOCKETSLDAP=1CFLAGS	= $(INCLUDES) $(DEFINES) $(ACFLAGS)all:	$(OUTDIR)/liblber.a DONE$(OUTDIR)/liblber.a: $(OBJS)	$(AR) ruv $@ $(OBJS)	@if [ ! -z "$(RANLIB)" ]; then \		$(RANLIB) $@; \	fi;DONE:	@set -x; echo $(OBJS) > $@idtest:	idtest.o	$(CC) $(ALDFLAGS) -o $@ idtest.c $(ISODEINCLUDEFLAG) \		$(KRBINCLUDEFLAG) $(ISODELIBFLAG) $(ISODELIBS) \		$(KRBLIBLFAG) $(KRBLIBS) $(ALIBS)etest:	liblber.a etest.o	$(CC) $(ALDFLAGS) -o $@ etest.o ./liblber.a $(ALIBS)dtest:	liblber.a dtest.o	$(CC) $(ALDFLAGS) -o $@ dtest.o ./liblber.a $(ALIBS)version.c: $(OBJS)	$(RM) $@	(u=$${USER-root} v=`$(CAT) ../../build/version` d=`$(PWD)` \	h=`$(HOSTNAME)` t=`$(DATE)`; $(SED) -e "s|%WHEN%|$${t}|" \	-e "s|%WHOANDWHERE%|$${u}@$${h}:$${d}|" \	-e "s|%VERSION%|$${v}|" \	< Version.c > $@)install:	liblber.a FORCE	-$(MKDIR) -p $(LIBDIR)	$(INSTALL) $(INSTALLFLAGS) -m 644 liblber.a $(LIBDIR)	@if [ ! -z "$(RANLIB)" ]; then \		(cd /tmp; $(RANLIB) $(LIBDIR)/liblber.a) \	filint:	FORCE	$(LINT) $(INCLUDES) $(DEFINES) $(SRCS)5lint:	FORCE	$(5LINT) $(INCLUDES) $(DEFINES) $(SRCS)clean:	FORCE	$(RM) $(OUTDIR)/liblber.a *.o DONE core a.out version.c dtest etest idtestdepend:	FORCE	$(MKDEP) $(INCLUDES) $(DEFINES) $(SRCS)links:	@$(LN) .src/ldap* .src/*.[ch] .# DO NOT DELETE THIS LINE -- mkdep uses it.# DO NOT PUT ANYTHING AFTER THIS LINE, IT WILL GO AWAY.decode.o: decode.c ../pgpsockets/pgpSocketsLDAP.h ../include/lber.hdecode.o: ../../../pgpcdk/pub/include/pgpOptionList.hdecode.o: ../../../pgpcdk/pub/include/pgpPubTypes.hdecode.o: ../../../pgpcdk/unix/pgpConfig.h ../../../pfl/common/pgpBase.hdecode.o: ../../../pgpcdk/pub/include/pgpTLS.hdecode.o: ../../../pgpcdk/pub/include/pgpErrors.hdecode.o: ../../../pfl/common/pgpPFLErrors.h ../include/pgpSrvStd.hencode.o: encode.c ../pgpsockets/pgpSocketsLDAP.h ../include/lber.hencode.o: ../../../pgpcdk/pub/include/pgpOptionList.hencode.o: ../../../pgpcdk/pub/include/pgpPubTypes.hencode.o: ../../../pgpcdk/unix/pgpConfig.h ../../../pfl/common/pgpBase.hencode.o: ../../../pgpcdk/pub/include/pgpTLS.hencode.o: ../../../pgpcdk/pub/include/pgpErrors.hencode.o: ../../../pfl/common/pgpPFLErrors.h ../include/pgpSrvStd.hio.o: io.c ../pgpsockets/pgpSocketsLDAP.h ../include/lber.hio.o: ../../../pgpcdk/pub/include/pgpOptionList.hio.o: ../../../pgpcdk/pub/include/pgpPubTypes.hio.o: ../../../pgpcdk/unix/pgpConfig.h ../../../pfl/common/pgpBase.hio.o: ../../../pgpcdk/pub/include/pgpTLS.hio.o: ../../../pgpcdk/pub/include/pgpErrors.hio.o: ../../../pfl/common/pgpPFLErrors.h ../include/pgpSrvStd.hbprint.o: bprint.c ../../../pgpcdk/pub/include/pgpSockets.hbprint.o: ../../../pgpcdk/pub/include/pgpOptionList.hbprint.o: ../../../pgpcdk/pub/include/pgpPubTypes.hbprint.o: ../../../pgpcdk/unix/pgpConfig.h ../../../pfl/common/pgpBase.hbprint.o: ../../../pgpcdk/pub/include/pgpTLS.hbprint.o: ../../../pgpcdk/pub/include/pgpErrors.hbprint.o: ../../../pfl/common/pgpPFLErrors.h ../include/pgpSrvStd.hpgpSrvMem.o: pgpSrvMem.c ../../../pfl/common/pgpBase.hpgpSrvMem.o: ../../../pfl/common/pgpMemoryMgr.h# IF YOU PUT ANYTHING HERE IT WILL GO AWAY