@rem               *** Nie zmieniaj tego pliku ***
@echo off
cls
echo [ Instalacja polskiej wersji jezykowej PGP 2.6.3i ]
echo.
if "%1" == "" goto help
if "%1" == "0" echo Polskie znaki   : brak
if "%1" == "1" echo Polskie znaki   : Mazovia
if "%1" == "2" echo Polskie znaki   : IBM-Latin/2 (CP852)
if "%1" == "3" echo Polskie znaki   : ISO-8859/2 (ISO-Latin/2)
if "%1" == "4" echo Polskie znaki   : Amiga PL
if "%1" == "5" echo Polskie znaki   : Windows 3.0 EE (CP1250)
if not "%2" == "" goto forced_path
if "%PGPPATH%" == "" goto bez_zms
goto z_zms

:forced_path
set TMPXX=%PGPPATH%
:bez_zms
if "%2" == "" goto brak_path
set PGPPATH=%2
goto z_zms

:alt_inst
if exist %PGPPATH%\config.txt copy %PGPPATH%\config.txt %PGPPATH%\config.old >nul
if exist %PGPPATH%\config.old echo  config.txt (kopia poprzedniego zachowana: config.old)
if not exist %PGPPATH%\config.old echo  config.txt
copy config.txt %PGPPATH%\config.txt >nul
echo  pl.hlp
copy pl.hlp %PGPPATH%\pl.hlp >nul
echo  language.txt
copy language.txt %PGPPATH%\language.txt >nul
if not exist %PGPPATH%\doc\*.* mkdir %PGPPATH%\doc >nul
echo  \doc\pgpdoc1.txt
copy pgpdoc1.txt %PGPPATH%\doc\pgpdoc1.txt >nul
goto alt_end

:z_zms
echo Katalog docelowy: %PGPPATH%
echo.
echo Instalacja pliku:
echo.
if "%1" == "4" goto alt_inst
set c_par=%1
if "%1" == "0" set c_par=0
if "%1" == "1" set c_par=1
if "%1" == "2" set c_par=3
if "%1" == "3" set c_par=4
if "%1" == "4" set c_par=b
if "%1" == "5" set c_par=e
if exist %PGPPATH%\config.txt move %PGPPATH%\config.txt %PGPPATH%\config.old >nul
if exist %PGPPATH%\config.old echo  config.txt (kopia poprzedniego zachowana: config.old)
if not exist %PGPPATH%\config.old echo  config.txt
convpl 4%c_par% config.txt %PGPPATH%\config.txt >nul
echo  pl.hlp
convpl 4%c_par% pl.hlp %PGPPATH%\pl.hlp >nul
echo  language.txt
convpl 4%c_par% language.txt %PGPPATH%\language.txt >nul
if not exist %PGPPATH%\doc\*.* mkdir %PGPPATH%\doc
echo  \doc\pgpdoc1.txt
convpl 4%c_par% pgpdoc1.txt %PGPPATH%\doc\pgpdoc1.txt >nul
:alt_end
if exist %PGPPATH%\language.idx del %PGPPATH%\language.idx >nul
if not "%2" == "" set PGPPATH=%TMPXX%
echo.
echo Instalacja zakonczona. Uruchom PGP by uaktywnic nowy zbior jezykowy.
goto end

:brak_path
echo.
echo UWAGA: nie masz zdefiowanej zmiennej systemowej PGPPATH, ktora
echo jest potrzebna jesli chcesz korzystac z PGP i wskazuje jego lokalizacje.
echo Teraz wywolaj !instal.bat, podajac jako drugi parametr sciezke
echo do katalogu w ktorym chcesz zainstalowac pgp-pl. Pozniej
echo do pliku AUTOEXEC.BAT dodaj linijke (nie dodawaj "\" na koncu!):
echo.
echo      set PGPPATH=dysk:\katalog_PGP
echo.
echo na przyklad: set PGPPATH=C:\PGP
goto end

:help
echo.
echo Wywolanie: !instal.bat numer_standardu
echo Dostepne standardy:
echo    0 = bez polskich liter
echo    1 = Mazovia
echo    2 = IBM-Latin/2 (CP852)
echo    3 = ISO-8859/2 (ISO-Latin/2)
echo    4 = Amiga PL
echo    5 = Windows 3.0 EE (CP1250)
echo.
echo na przyklad: !instal.bat 1    (polskie znaki w Mazovii)
if "%PGPPATH%" == "" goto brak_path
:end
