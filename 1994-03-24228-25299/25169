Newsgroups: sci.crypt
Path: msuinfo!agate!boulder!cnsnews!spot.Colorado.EDU!kinney
From: kinney@spot.Colorado.EDU (W. Kinney)
Subject: Re: DES key encrypting itself?
Message-ID: <CnCF8B.C8H@cnsnews.Colorado.EDU>
Sender: usenet@cnsnews.Colorado.EDU (Net News Administrator)
Nntp-Posting-Host: spot.colorado.edu
Organization: University of Colorado, Boulder
References: <jgfoot-250394111511@silliman-college-kstar-node.net.yale.edu> <WCS.94Mar27042724@anchor.att.com>
Date: Sun, 27 Mar 1994 21:48:11 GMT
Lines: 26

In article <WCS.94Mar27042724@anchor.att.com>,
Bill Stewart +1-510-484-6204 <wcs@anchor.ho.att.com> wrote:
>In article <jgfoot-250394111511@silliman-college-kstar-node.net.yale.edu> jgfoot@minerva.cis.yale.edu (Josh A. Goldfoot) writes:
>   How much am I compromising security if I:
>     1. Use DES to encrypt a file with a key K;  { E(F,K) }
>     2. Use DES to encrypt the key with itself;  { E(K,K) }
>     3. Put the encrypted key where anyone can find it, probably attached to
>   the encrypted file somehow.
>
>   My goal is to design a DES program that can tell you quickly if you type in
>   the wrong key. But is storing #2 in an obvious place too much of a
>   give-away?
>
>An alternative method that will give you roughly the same useful
>feature is to generate a random number in some recognizable form,
>e.g. the last 8 bits are 0, encrypt it, and store it with the file;
>when you decrypt, you can check if the number has the right form.

The method I've been using is to encrypt the MD5 hash of the plaintext
along with the file. When you decrypt, compute a new MD5 -- if the old
and new hash match, the key is good. And, of course, use IDEA or TDES
instead of DES.


                                 -- Will

