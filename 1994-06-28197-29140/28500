Path: msuinfo!agate!spool.mu.edu!howland.reston.ans.net!usc!bloom-beacon.mit.edu!pad-thai.aktis.com!la-jiao.aktis.com!not-for-mail
From: don@cam.ov.com (Donald T. Davis)
Newsgroups: sci.crypt
Subject: Re: random numbers from disk drive rotation latency -- help?
Date: 7 Jun 1994 20:40:41 -0400
Organization: OpenVision Technologies, Inc.
Lines: 56
Sender: Don Davis
Message-ID: <2t3429$bbm@la-jiao.aktis.com>
References: <2t06j7$r97@hebron.connected.com>
NNTP-Posting-Host: la-jiao.aktis.com

Brian Henry writes:
>
> I'm attempting to write a program to generate random numbers
> from disk drive rotation latency as discussed in Schneier's
> new cryptography book...
> What I'm looking for is an algorithm that will convert these
> semi-random numbers into a good random bit stream.
>
it's time for me to go public with this, i guess. schneier's
mention of disk randomness refers to my work at mit, which he'd
heard of through the grapevine, because i was slow to publish it.

the short answer to your question is, "filter the timing data
to remove structure that comes from quantization, then apply
the fft to vectors of the numbers; this will remove bias and
correlation. then use the spectral angles for frequencies in
(0,pi), normalized to the unit interval, as your random bits."
that is, you have to throw away half of the calculated spectrum,
because it duplicates the other half.

our paper (cited below) explains why this works, and discusses
our experimental measurements of the noise we found in a unix
workstation's disk-rate.
 
we got 100 bits/minute, plus or minus 1. which we measured in the
raw disk-periods with an entropy estimator. if you keep too many
bits of the fft's output, you're using the fft as a reseeded prng,
and you'll risk invertibility/predictability. it's best to read
the same block over and over, without moving the disk head, so
that your filtering doesn't have to remove structure that comes
from the disk-scheduler. at least, that's what we did, because
we were concerned to argue mathematically for our rng's randomness.

let me emphasize here, that our measurements were sanity checks;
we use a formal, a priori argument to justify our claim that disk
noise deserves the label "random."
our paper is an in-depth analysis of why the disk's speed
fluctuates randomly, with roughly equal attention given to theory
and experiment. i'm presenting it at crypto this year:

   Don Davis, Ross Ihaka, Philip Fenstermacher, "Cryptographic
   Randomness from Air Turbulence in Disk Drives," in Advances
   in Cryptology, Crypto '94 Proceedings, ed. by yvo desmedt.
   Springer-Verlag Lecture Notes in Computer Science (number?).
   (to appear in late summer '94).
 
btw, peter gutmann deserves some credit too; he independently
developed the idea of disk randomness, after our work, but before
schneier's publication. peter's approach in sms took disk-
randomness for granted, so as to build a working crypto system,
which i didn't do. i have corresponded with both bruce and peter
about this, and i believe they agree with my understanding of
these events.
					-don davis
					 openvision technologies
					 cambridge, ma
