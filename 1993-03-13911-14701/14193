Path: msuinfo!uwm.edu!wupost!waikato.ac.nz!aukuni.ac.nz!cs18.cs.aukuni.ac.nz!pgut1
Newsgroups: sci.crypt
Subject: Re: Encryption of compressed text
Message-ID: <1993Mar16.115036.13663@cs.aukuni.ac.nz>
From: pgut1@cs.aukuni.ac.nz (PeterClaus          Gutmann        )
Date: Tue, 16 Mar 1993 11:50:36 GMT
References: <1993Mar15.160831.24885@news.unige.ch> <C3xynK.GCy@jabba.ess.harris.com> <732250690@romeo.cs.duke.edu>
Organization: Computer Science Dept. University of Auckland
Keywords: crypt, compress
Lines: 38

In <732250690@romeo.cs.duke.edu> srt@duke.cs.duke.edu (Stephen R. Tate) writes:

>In article <C3xynK.GCy@jabba.ess.harris.com> mvm@epg.harris.com (Matt Mahoney) writes:
>>In theory, that's true.  In practice, programs like PKZIP or the UNIX
>>compress command add known plaintext in the form of a header.

>The only known plaintext at the beginning of UNIX compress output
>is a 3 byte "magic number".  There's also an undocumented switch "-n"
>that suppresses the output of the magic number.  So
>    % compress -n -c message | your_encryption
>should produce an encrypted file where there is no "predictable stuff"
>at the beginning of the file.

Yes there is.  Until they've adapted to the data they're compressing, any
compressor will achieve zero compression.  In the case of an LZW-based
compressor like Unix compress, the first bytes will simply be the initial
bytes of the data to be compressed, encoded in 9 bits instead of 8.

The only way to avoid this is to somehow initialize the compressor with some
value derived from the encryption key.  I've done some work on this and found
that (a) it messes up the compression, and (b) you have to do a *lot* of
initialization of the compressor to have an effect on the initial compressed
data (which just screws up the compression even more).  In addition, this
means that every time you compress a piece of data in this manner, it
compresses to a different size, which can lead to something of a user
acceptance problem.

In short, the main advantage in compressing the data to be encrypted is that
there's a lot less of it to encrypt.  With most encryption schemes, compression
is a lot faster than encryption, so you see an overall speed increase...

Peter.
--
 pgut1@cs.aukuni.ac.nz||p_gutmann@cs.aukuni.ac.nz||gutmann_p@kosmos.wcc.govt.nz
peterg@kcbbs.gen.nz||peter@nacjack.gen.nz||peter@phlarnschlorpht.nacjack.gen.nz
             (In order of preference - one of 'em's bound to work)
              -- C++ will do for C what Algol 68 did for Algol --

