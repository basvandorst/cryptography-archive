Newsgroups: sci.crypt
Path: msuinfo!uwm.edu!cs.utexas.edu!uunet!boulder!tigger!bear
From: bear@tigger.cs.Colorado.EDU (Bear Giles)
Subject: Re: Building Strong Crypto into DOS 6
Message-ID: <1993Apr13.035413.4275@colorado.edu>
Sender: news@colorado.edu (The Daily Planet)
Nntp-Posting-Host: tigger.cs.colorado.edu
Organization: National Oceanic & Atmospheric Adminstration / Boulder Labs
References: <bontchev.734534627@fbihh> <1993Apr12.161742.4643@fsl.noaa.gov> <1993Apr13.013803.16829@cs.aukuni.ac.nz>
Date: Tue, 13 Apr 1993 03:54:13 GMT
Lines: 25

In article <1993Apr13.013803.16829@cs.aukuni.ac.nz> pgut1@cs.aukuni.ac.nz (Peter Gutmann) writes:
>In <1993Apr12.161742.4643@fsl.noaa.gov> bear@kestrel.fsl.noaa.gov (Bear Giles) writes:
>
>Use the int 13h reset drive function (I can't remember offhand which one
>it is, check any DOS programming reference or Ralf Brown's interrupt list).
>Most DOS cacheing programs will interpret this as a "flush cache" command,
>certainly SMARTDRV does.

I don't think this works on IDE drives.

I have a class with encapsulates the basic BIOS disk functions and it
totally misses my hard disk.  Even if I ignore the BIOS configuration flags
(which also say I have no hard disk) and hit drive 80h (hard disk 0) it
says that this is an invalid drive.

I could be wrong... it certainly wouldn't be the first time!  But a program
that happily dumped the boot sector of the two floppy drives totally
ignored the IDE drive.

(BTW, you had better believe that everything but the RawDisk::read()
member function had a very early check that I specified a floppy drive!)

-- 
Bear Giles
bear@fsl.noaa.gov/cs.colorado.edu
