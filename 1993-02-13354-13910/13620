Path: msuinfo!caen!sdd.hp.com!zaphod.mps.ohio-state.edu!howland.reston.ans.net!usenet.ins.cwru.edu!agate!doc.ic.ac.uk!warwick!uknet!comlab.ox.ac.uk!pcl
From: pcl@ox.ac.uk (Paul C Leyland)
Newsgroups: sci.crypt
Subject: Re: Decimals
Message-ID: <PCL.93Feb15105500@rhodium.ox.ac.uk>
Date: 15 Feb 93 10:55:00 GMT
References: <_b53qg=@rpi.edu> <65190022@hpl-opus.hpl.hp.com>
	<MHCOFFIN.93Feb12090534@tolstoy.uwaterloo.ca>
	<bontchev.729532912@fbihh>
Organization: Oxford University Computing Services, 13 Banbury Rd Oxford OX2
	6NN
Lines: 37
In-reply-to: bontchev@fbihh.informatik.uni-hamburg.de's message of 12 Feb 93 16:01:52 GMT

In article <bontchev.729532912@fbihh> bontchev@fbihh.informatik.uni-hamburg.de (Vesselin Bontchev) writes:

   > You might if you want the right answer.  Don't use bc for anything
   > important.  Some, if not all, versions of bc have a bug in the
   > division algorithm.  Here's an example, (on a SparcStation 2):

   >     % bc
   >     a = 512323978668400342662142456021339603384123963276263800698706
   >     b = 45862908082782345
   >     c = a/b
   >     a-(b*c)
   >     -267488614159371026654933884467539

   > The last line is obviously wrong since the answer should be in the
   > range [0..b-1].  The last line should be 31295982937361006.

   Hmm, is this a bug or just an overflow? Because I tried it on a VAX
   and got exactly the same (negative) result... If it is a bug, is there
   a fixed version of bc available?


Some versions of bc forget to declare their fundamental datatype
(an array of radix-hundred digits) as unsigned char,but rather
leave the old and buggy declaration of char.  This might be your
problem.

If you have a source license, please check the code and report
back for your version.  Pester the supplier if it is wrong.


Paul
--
Paul Leyland <pcl@oxford.ac.uk>          | Hanging on in quiet desperation is
Oxford University Computing Service      |     the English way.
13 Banbury Road, Oxford, OX2 6NN, UK     | The time is come, the song is over.
Tel: +44-865-273200  Fax: +44-865-273275 | Thought I'd something more to say.
Finger pcl@black.ox.ac.uk for PGP key    |
