Newsgroups: sci.crypt
Path: msuinfo!agate!howland.reston.ans.net!pipex!lyra.csx.cam.ac.uk!warwick!uknet!comlab.ox.ac.uk!pcl
From: pcl@foo.oucs.ox.ac.uk (Paul C Leyland)
Subject: Re: Why Fermat test for PGP primes?
Message-ID: <PCL.94Jul8171008@foo.oucs.ox.ac.uk>
Followup-To: sci.crypt
In-reply-to: carol@edfua0.ctis.af.mil's message of 5 Jul 1994 05:25:58 GMT
References: <carol-040794211308@edfdc0.ctis.af.mil>
Date: 08 Jul 1994 16:10:08 GMT
Lines: 57

In article <carol-040794211308@edfdc0.ctis.af.mil> carol@edfua0.ctis.af.mil (Andrew Carol) writes:

   I had been lead to belive that Fermat Theorem could pass
   "Charmihcle" (sp?) number which are not secure (not prime!).

Spelled "Carmichael", but otherwise you are correct.  Actually, there
are non-Carmichael numbers which are incorrectly certified as prime by
particular Fermat tests.  The reason C. numbers are special is that
almost all Fermat tests fail to detect them as composite.


   I also had always been led to belive that there are other tests
   which don't have this weakness (Knuth mentions at least one).

Correct.  There are several.  Some of them are better pseudo-primality
tests, such as Miller-Rabin; others prove primality.  The latter tend
to be rather slow in operation.

   Question is, if these "better" tests are available, why not use them?

Good question.  The slow primality provers aren't used because of
their slowness.  I suspect that only incompetence can explain why
Fermat was used in preference to Miller-Rabin.  M-R is essentially an
early-abort version of F and, not only is it more reliable a test, it
usually runs faster as well.

   I understand that the composite numbers which "fool" Fermats
theorem
   are very rare, but if you have to do the work anyway, why not use
   a stronger tool?

Correct.  I have been arguing that Fermat should be replaced by
Miller-Rabin ever since I discovered what PGP was doing, about a year
ago.

   Is there a benefit to using Fermat over Rabin-Miller?  Is it lots faster?
   Is there patent "problem".  Is it just not worth thinking about?


The *only* benefit I can think of is that Fermat uses about 5 lines
fewer of C source code.  Sometimes, it is very marginally faster;
sometimes it is markedly slower.  There is no patent problem, as far
as I know.  It *is* worth thinking about.


I have submitted a Miller-Rabin test to the PGP developers twice now.
Once a year ago, when it was ignored, and again about 2 weeks ago.
I'm hoping that it gets incorporated in the next release of PGP.

Paul

--
Paul Leyland <pcl@black.ox.ac.uk>        | Hanging on in quiet desperation is
Oxford University Computing Services     |     the English way.
13 Banbury Road, Oxford, OX2 6NN, UK     | The time is gone, the song is over.
Tel: +44-865-273200  Fax: +44-865-273275 | Thought I'd something more to say.
Finger pcl@black.ox.ac.uk for PGP key    |
