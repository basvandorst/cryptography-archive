Path: msuinfo!agate!darkstar.UCSC.EDU!news.hal.COM!olivea!decwrl!nntp.crl.com!acsys!mycal
From: mycal@NetAcsys.com (Mycal)
Newsgroups: sci.crypt
Subject: Re: Norton's [In]Diskreet: An update
Message-ID: <774305008.726snx@NetAcsys.com>
References: <3017rl$8j4@ccu2.auckland.ac.nz>
Date: Fri, 15 Jul 94 20:43:28 GMT
Organization: I Hack.
Lines: 28

In article <3017rl$8j4@ccu2.auckland.ac.nz> pgut1@cs.aukuni.ac.nz writes:
>The key setup process is very badly done.  The front-end gets a password in the
>range of 6..40 characters, and converts it to all-uppercase.  Then it packs it
>into a struct along with a collection of other information and passes it to the
>DES library used by Diskreet.  The first thing this does is take the password
>and reduce it to 64 bits by cyclically xor-ing the full-length password into an
>8-byte buffer initially set to all zeroes, ie:
> 
>    for( index = 0; password[ index ]; index++ )
>        buffer[ index % 8 ] = password[ index ];
> 

Shouldn't that line be :
        buffer[ index % 8 ] ^=password[ index ];

according to your description?

To clear it up for myself I came up with this, am I correct or did I
mis-understand?

        unsigned char buffer[8] = { 0,0,0,0,0,0,0,0 };
        for( index = 0; password[ index ]; index++ )
                buffer[ index % 8 ] ^= toupper(password[ index ]);

mycal



