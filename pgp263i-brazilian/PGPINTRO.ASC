-----BEGIN PGP SIGNED MESSAGE-----

Uma IntroduáÑo Ö Criptografia (voltada para o pgp), revisÑo 2
por Henrique de Moraes Holschuh <henriq0@fee.Unicamp.br>


Nota do autor:

   Esse texto tem como objetivo explicar alguns t¢picos b†sicos relacio-
   nados Ö criptografia e ao PGP. SÑo estes: a criptografia em si,
   sistemas de chave simples e sistemas de chave p£blica. Inclu° tambÇm
   uma seáÑo sobre "por que vocà precisa da criptografia" numa tentativa
   de mudar a visÑo geral do p£blico de que apenas alguÇm que tem algo a
   esconder, como corruptos ou criminosos, encriptaria seus textos.

   Algumas outras seáîes pertinentes que vàm sido negligenciadas por
   usu†rios novatos do PGP tambÇm foram inclu°das, a t°tulo de aviso.


IntroduáÑo:

   Criptografar uma mensagem Ç codific†-la atravÇs uma cifra (algoritmo,
   outros alfabetos, etc) de forma a tornar sua decodificaáÑo imposs°vel
   por qualquer um exceto pelo grupo ao qual a mensagem Ç destinada.

   O PGP Ç um programa criado por Philip R. Zimmermann (PRZ) e posteri-
   ormente desenvolvido por uma equipe internacional de programadores,
   com o objetivo de disponibilizar ao p£blico mundial a criptografia de
   boa qualidade e n°vel de seguranáa militar. Exitem versîes do PGP
   para praticamente todos os computadores e sistemas operacionais em
   uso no mundo, e o c¢digo fonte est† dispon°vel de forma p£blica, per-
   mitindo que qualquer um com conhecimento suficiente adapte-o para
   outros sistemas.


Por que vocà precisa de criptografia?

   Nem tudo que escrevemos Ç p£blico. Muitas vezes escrevemos textos
   extremamente embaraáosos e/ou sens°veis, que nÑo desejamos que ninguÇm
   exceto determinada outra pessoa leia. Tal texto poderia ser algo banal,
   como uma carta pessoal ou uma declaraáÑo de amor, ou algo mais sÇrio
   com implicaáîes pol°tico-financeiras, tais como informaáîes confiden-
   ciais sobre os resultados de uma pesquisa ainda nÑo publicada ou as
   diretrizes de mercado de uma empresa para o pr¢ximo ano.

   Qualquer que seja o caso, o texto nÑo diz respeito ao resto do mundo,
   apenas Ö vocà e a poucas outras pessoas. Seguindo essa filosofia foram
   criadas as leis que defendem a privacidade postal e nas telecomunica-
   áîes, essa ultima largamente desrespeitada pelos chamados "detetives
   particulares" com as escutas telefìnicas.

   Nas redes de computadores a situaáÑo Ç bastante similar Ö rede telefì-
   nica. Independente da rede em questÑo ser uma rede amadora de BBS, tais
   como a Fidonet ou SyncNet, ou uma rede profissional corporativa ou
   ainda enormes redes mundiais como a Internet ou a BITNET, a privacidade
   da sua correspondància eletrìnica (email) est† sempre em risco. Pior
   que isso, por uma "escuta" em um computador Ç muito mais f†cil e seguro
   que vasculhar correspondància comum (cartas).

   No caso de redes de BBS (redes FTN - Fidonet Technology Networks), a
   sua email Ç enviada sistema ap¢s sistema, atÇ chegar na BBS destino.
   Durante todo esse trajeto qualquer SysOp ou atÇ mesmo um eventual
   hacker poder† interceptar e ler a sua mensagem. Ele poder† alter†-la ou
   enviar outra mensagem como se fosse vocà e o destinat†rio nÑo ter† como
   descobrir a alteraáÑo. Isso se aplica tando Ö echomail como Ö netmail,
   e de nada adianta marcar a mensagem como private.

   Na Internet a questÑo Ç muito mais complicada por envolver roteamento
   dinÉmico e uma variedade enorme de sistemas diferentes, mas segue o
   mesmo racioc°nio b†sico: durante o trajeto da mensagem, ou atÇ mesmo na
   origem ou no destino, alguÇm poder† interceptar, ler e alterar o seu
   texto. Mesmo que nÑo estejam especificamente atr†s de vocà, Ç possivel
   (e desconfia-se seriamente disso) que entidades governamentais faáam
   busca por palavras chaves, quer por amostragem, quer em *TODA* a
   email passando por alguns nodes chaves da rede que estejam sob seu
   controle, direto ou indireto.  NÑo se engane pensando que isso nÑo se
   aplica a vocà s¢ porque vocà nao vive nos EUA ou na China. Neste
   momento parte da email interna do Brasil poderia estar sendo roteada,
   por motivos puramente tÇcnicos, atravÇs de nodes Norte-Americanos.
   Isso de fato ocorreu h† algum tempo atr†s, e pode voltar a acontecer.

   A soluáÑo? Criptografar a sua mensagem. Uma mensagem criptografada nÑo
   pode ser lida por ninguÇm, exceto por aquelas pessoas que souberem
   decifrar o c¢digo e/ou possuirem a chave necess†ria para tanto. Uma
   mensagem criptografada atravÇs de algoritmos fortes como o IDEA e RSA
   (dispon°veis para qualquer um atravÇs do PGP) ou atÇ mesmo o triple-DES
   norte americano, cujas chaves sejam bem protegidas (algo que cabe
   apenas Ö vocà, e NéO ê IMPOSSãVEL) nÑo poder† ser decifrada por ninguÇm
   exceto governos, e mesmo assim a um custo extremo (em tempo de super-
   computador, algo MUITO CARO e pouco dispon°vel).

   Portanto, mesmo que sua mensagem criptografada seja interceptada, ela
   nÑo poder† ser lida. Poder† ser destru°da, mas ninguÇm nunca vai saber
   o que ela continha, a menos que vocà lhes diga a chave. Como bìnus
   adicional, alguns programas de criptografia (como o PGP) permitem que
   vocà faáa uma verdadeira assinatura digital que nÑo pode ser
   falsificada a menos que tenham roubado a sua chave (nesse caso eles
   poderÑo ler a sua email cifrada tambÇm). Com isso, caso o destinat†rio
   receba uma mensagem com a assinatura violada, ou sem assinatura, saber†
   que nÑo foi enviada por vocà ou que nÑo Ç mais a mensagem original.


Criptografia normal e de chave p£blica

   No que tange a criptografia por chave (empregada pelo PGP e outros
   programas do gànero), existem basicamente dois tipos:

   a) Criptografia de chave simples:
        Uma chave (normalmente longa) Ç utilizada em conjunto com um
        algor°tmo para cifrar a mensagem. Para decifrar a mensagem,
        faz-se necess†rio conhecer tal chave, pois apenas o algoritmo em
        si nÑo ser† suficiente. Como exemplo de criptografia de chave
        simples temos o IDEA usado pelo PGP.

        Embora seja normalmente mais seguro que a criptografia de chave
        p£blica (ver abaixo), esse mÇtodo tem uma grande desvantagem: Ç
        necess†rio um canal seguro por onde se possam passar as chaves.

           +--------------+                 +---------------+
           | TEXTO NORMAL |<--> (CHAVE) <-->| TEXTO CIFRADO |
           +--------------+                 +---------------+

   b) Criptografia de chave p£blica RSA
        A criptografia de chave p£blica faz uso de duas chaves.
        Chamemo-nas de chave A e chave B. Tais chaves sÑo distintas,
        porÇm possuem uma estreita relaáÑo entre si:

        O que for codificado por A somente poder† ser decodificado por B e
        o que for codificado por B somente poder† ser decodificado por A.

        Portanto:
           O que for codificado por A NéO PODERÜ ser decodificado por A
           O que for codificado por B NéO PODERÜ ser decodificado por B

        Em outras palavras, Ç preciso de ambas as chaves para que um
        texto possa ser codificado e posteriormente lido.

        Agora suponhamos que A seja uma chave que s¢ voce possua (vamos
        cham†-la de *chave secreta*) e que B seja uma chave que vocà
        tenha distribu°do para seus amigos e colegas de trabalho (vamos
        cham†-la de *chave p£blica*).

        Vocà:      Possui as chaves A e B (secreta e p£blica)
        Outros:    Possuem *apenas* a chave B (p£blica)

        Nesse caso, os seus amigos poderiam cifrar uma mensagem com a
        chave p£blica (a ñNICA que eles possuem). Como a chave p£blica
        nÑo pode decifrar o que ela mesmo cifrou, nem eles nem *ninguÇm*
        mais ter† como ler a mensagem cifrada, exceto vocà que possui a
        chave secreta!

        +---------+                                       +---------+
    +-->| Texto   |----> [Outros: chave p£blica] ------>> | TEXTO   |
    |   | normal  |      (caminho de mÑo £nica!)          | CIFRADO |
    |   +---------+                                       +---------+
    |                                                          |
    |                                          correspondància | email
    |  +-[COMPUTADOR SEGURO: O SEU]--------+        Internet   | BBS
    |  |                                   |                   |
    +------ [Vocà: Chave secreta] --------<<<<<----------------+
       |                                   |
       +-----------------------------------+

        Repetindo: AlguÇm pega a *chave p£blica* e codifica uma mensagem
        para vocà. ESSA MENSAGEM ESTÜ AGORA CIFRADA E SEGURA. A pessoa
        entÑo manda a mensagem cifrada para vocà, atravÇs de qualquer
        meio (Internet, BBS, disquete). APENAS VOCâ, quando receber a
        mensagem cifrada, ser† capaz de decodific†-la utilizando a sua
        chave *SECRETA*.

        Evidentemente o ponto fraco no sistema de chave p£blica Ç que
        vocà precisa garantir a seguranáa de sua chave secreta a todo
        custo.

   ASSINATURAS  [espec°fico para o PGP]
   (se achar essa parte confusa, pule-a)
   ------------------------------------

        Assinaturas digitais sÑo uma vantagem do sistema de chave
        p£blica. No quadro acima, utilizamos a chave *p£blica* para
        codificar e a chave *secreta* para decodificar a mensagem, mas o
        caminho inverso tambÇm Ç possivel.

        Ou seja: A chave *secreta* tambÇm pode ser utilizada para
        codificar algo que apenas a chave *p£blica* pode decifrar.

        Qual a utilidade de cifrar alguma coisa com a chave secreta se
        qualquer um com a chave p£blica (que vocà espalhou para seus
        amigos e colegas de trabalho) poder† decifrar??? ASSINATURAS!!!

        Baseado na hip¢tese que APENAS VOCâ possui a chave *secreta*,
        Ç f†cil ver que APENAS VOCâ pode codificar alguma coisa com ela,
        portanto se alguÇm recebe uma mensagem que pode ser decifrada
        com a sua chave *PUBLICA* isso significa que ela foi cifrada
        pela chave *SECRETA*, e portanto POR VOCâ.

        O PGP faz uso disso quando vocà deseja assinar um texto. O
        processo Ç o seguinte:

          1 - O PGP calcula um n£mero de 128 bits usando um algoritmo
              chamado MD5 (message digest 5) que reflete o conte£do da
              mensagem. Esse n£mero Ç a *impressÑo digital* da mensagem.

          2 - O PGP cifra a impressÑo digital da mensagem com a sua
              *CHAVE SECRETA* ele aproveita para cifrar tambÇm a data e
              hora GMT em que a assinatura foi feita.

          3 - O PGP anexa esse pequeno bloco de dados criado em (2) a
              sua mensagem que poder† depois ser codificada (ou nÑo)
              com a chave p£blica do destinat†rio da mensagem.

        Assim, quando o destinat†rio receber a mensagem, o PGP ir† deco-
        dificar o bloco anexado em (3) Ö mensagem com a chave p£blica de
        quem ASSINOU e utilizando o MD5 (ver passo (1)) ele pode dar
        certeza que o texto nÑo foi modificado, pois qualquer modificaáÑo,
        nÑo importa quÑo pequena (ou quÑo grande) ir† alterar a impressÑo
        digital da mensagem e invalidar a assinatura.


Seguranáa da chave secreta

   Manter a seguranáa de sua chave secreta Ç extremamente importante. Na
   verdade, utilizar o PGP (ou qualquer outro sistema de chave p£blica)
   sem tomar os devidos cuidados com a sua chave secreta pode vir a ser
   pior que nÑo usar o PGP em primeiro lugar, por dar uma falsa impressÑo
   de seguranáa e abrir portas para alguÇm usar a sua "assinatura digital"
   sem altorizaáÑo e possivelmente coloc†-lo em alguma situaáÑo embaraáosa
   e potencialmente dif°cil de explicar (pois s¢ vocà poderia ter assinado
   aquela mensagem comprometedora, uma vez que s¢ vocà deveria ter acesso
   Ö sua chave secreta...).

   Embora possa parecer paran¢ia, tais possibilidades existem e devem ser
   levadas em consideraáÑo.  Seáîes inteiras do manual do usu†rio do PGP
   foram dedicadas a explicaáîes detalhadas sobre procedimentos para manter
   sua chave secreta segura e como avisar ao resto do mundo que sua chave
   secreta foi comprometida. Infelizmente grande parte dos usu†rios do PGP
   (inclusive no Brasil, pelo que tenho visto) nÑo tem o h†bito saud†vel
   de ler manuais, mesmo que o "pessoal de apoio" do PGP fique repetindo o
   tempo todo "RTFM!" (V† ler a ***** do manual!).

   As chaves secretas no PGP possem uma camada extra de proteáÑo, a
   "frase-senha" (pass phrase no original). Mesmo que alguÇm consiga uma
   c¢pia da sua chave secreta, a frase-senha impedir† o uso da mesma, pois
   a chave secreta Ç mantida permanentemente encriptada (usando o IDEA).
   Infelizmente, roubar e quebrar senhas Ç uma das mais *f†ceis* etapas em
   matÇria de intrusÑo, e justamente aquela na qual a maior parte dos
   interessados no assunto (hackers, especialistas em seguranáa, estudantes
   em crise de tÇdio) Ç especializada.

   A existància da frase-senha tem na verdade o objetivo atrasar alguÇm
   que eventualmente tenha conseguido copiar seu molho de chaves secretas,
   para aumentar a chance de vocà conseguir descobrir o comprometimento de
   sua chave secreta em tempo e distribuir os "certificados de revogaáÑo de
   chave" antes que a chave comprometida possa ser utilizada para lhe preju-
   dicar.

   Se vocà usa uma chave secreta com a qual nÑo tem tomado o devido cuidado,
   ou se exitem motivos para acreditar que sua chave possa ter sido compro-
   metida, crie o certificado de revogaáÑo de chave, espalhe-o aos quatro
   ventos, desabilite a chave comprometida (nÑo a delete) e gere um novo par
   de chaves para vocà. E tome mais cuidado.

[Fim de Arquivo - EOF]

-----BEGIN PGP SIGNATURE-----
Version: 2.6.3ia
Charset: cp860

iQC1AwUBMx2yulaVu7Y/7Gs5AQEzpQT/U4Hd4ply1PeWTC/HDiau26O67IBQ+/6n
o45qZtXVLIINEjN2cY/XFeM3pfZWEkqEhrOUxAT/QHX/ibQImKBT3xzLynNNX2Eh
3o5bqqbDdJR4FP+nHHqLym23faqYwsGfvVB7FWIAaSHEFhkv02WqubkJkD6Y9zI/
3QGk65j0Wn0Kt09HSbHoUHjItF6fCEAArWwFSc3NO5SkEwScss2CiQ==
=7+ol
-----END PGP SIGNATURE-----
