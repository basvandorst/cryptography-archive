<!-- $Header: /zu/bal/src/wwwpks/html/RCS/pks-commands.html,v 1.1 1996/02/12 15:51:58 bal Exp $ -->
<!-- Copyright 1996 Brian A. LaMacchia (bal@mit.edu) -->
<html>
<head>
<title>Public Key Server Commands</title>
</head>
<body>
<h1>Public Key Server Commands</h1>

<b>HTML Forms support required!</b><p>

<h2><a href="#extract">Extract a key from the server</a></h2>

<h2><a href="#submit">Submit a key to the server</a></h2>

<a href="pks-toplev.html">Back to the Keyserver home page.</a>

<hr>

<h2><a name="extract">Extracting a key</a></h2>

Here's how to extract a key:

<ol>
<li> Select either the "Index" or "Verbose Index" check box.  The
"Verbose" option also displays all signatures on displayed keys.
<li> Type ID you want to search for in the "Search String" box.
<li> Press the "Do the search!" key.
<li> The server will return a (verbose) list of keys on the server
matching the given ID.  (The ID can be any valid argument to a pgp
-kv(v) command. If you want to look up a key by its hexadecimal KeyID,
remember to prefix the ID with "0x".)
<li> The returned index will have hypertext links for every
bracket-delimited identifier (i.e. <a
href="http:/htbin/pks-extract-key.pl?op=get&search=bal@zurich.ai.mit.edu">
<i>&lt;bal@zurich.ai.mit.edu></i></a>).
Clicking on the hypertext link will display an ASCII-armored version
of the listed public key.
</ol>

<hr>
<form action="http:/htbin/pks-extract-key.pl" method="GET">
Index: <input type="radio" name="op" value="index" checked>
Verbose Index: <input type="radio" name="op" value="vindex">
<p>
Search String: <input name="search" size=40><p>
<input type="checkbox" name="fingerprint"> Show PGP "fingerprints" for keys <p>
<input type="reset" value="Reset">
<input type="submit" value="Do the search!">
</form>
<hr>

<b>Extract caveats:</b>

<ul>
<li>Currently, hypertext links are only generated for text found
between matching brackets.  (It's a common convention to put your 
e-mail address inside brackets somewhere in the key ID string.) <p>
</ul>

<hr>

<h2><a name="submit">Submitting a new key to the server</a></h2>

Here's how to add a key to the server's keyring:

<ol>
<li> Enter <i>your</i> e-mail address in the space provided.  The
server will e-mail a confirmation to that address after it has
processed your key.
<li> Cut-and-paste an ASCII-armored version of your public key into
the text box.
<li> Press "Submit".
</ol>

That's it!  The keyserver processes ADD requests every 10 minutes.
After your key has been processed the server will send a message to
your e-mail address.  After you've received confirmation, you can
check that your key exists using the <a href="#extract">extract</a>
procedure above.

<hr>

<form action="http:/htbin/pks-add-key.pl" method="POST">
E-mail address for auto-reply: <input name="search" size=40><p>

Enter ASCII-armored PGP key here: <p>
<textarea name="keytext" rows=20 cols=66></textarea><p>

<input type="reset" value="Reset">
<input type="submit" value="Submit this key to the keyserver!"><p>
</form>

<hr>

<b>Submit caveats:</b>

<ul>
<li> The script that executes when you push the "Submit" button
doesn't actually frob the keyserver database directly.  It takes your
e-mail address and ASCII-armored key and forges an incoming mail
message to <i>pgp-public-keys@pgp.ai.mit.edu</i>.  This forged
mail message then gets processed just like an incoming ADD request to
the mail server, which is why there's up to a 10 minute delay.  
</ul>

<hr>

<address>
<a href="/~bal/bal-home.html">Brian A. LaMacchia</a> <br>
<a href="mailto:bal@martigny.ai.mit.edu">bal@martigny.ai.mit.edu</a> <br>
NE43-431 <br>
545 Technology Square <br>
Cambridge, MA 02139 <br>
(617) 253-0290 
</address>
</body>
</html>
