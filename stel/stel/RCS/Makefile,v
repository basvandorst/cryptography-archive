head	1.86;
access;
symbols;
locks
	vince:1.86; strict;
comment	@# @;


1.86
date	96.04.26.16.29.23;	author vince;	state Exp;
branches;
next	1.85;

1.85
date	96.04.03.08.40.32;	author vince;	state Exp;
branches;
next	1.84;

1.84
date	96.04.01.16.17.21;	author vince;	state Exp;
branches;
next	1.83;

1.83
date	96.03.31.09.41.11;	author vince;	state Exp;
branches;
next	1.82;

1.82
date	96.03.30.14.58.08;	author vince;	state Exp;
branches;
next	1.81;

1.81
date	96.02.03.13.47.54;	author vince;	state Exp;
branches;
next	1.80;

1.80
date	96.01.27.11.47.48;	author vince;	state Exp;
branches;
next	1.79;

1.79
date	96.01.26.15.15.13;	author vince;	state Exp;
branches;
next	1.78;

1.78
date	96.01.05.09.53.56;	author vince;	state Exp;
branches;
next	1.77;

1.77
date	96.01.03.18.20.26;	author vince;	state Exp;
branches;
next	1.76;

1.76
date	96.01.02.16.41.03;	author vince;	state Exp;
branches;
next	1.75;

1.75
date	95.12.26.19.22.18;	author vince;	state Exp;
branches;
next	1.74;

1.74
date	95.12.21.18.00.21;	author vince;	state Exp;
branches;
next	1.73;

1.73
date	95.12.19.08.37.40;	author vince;	state Exp;
branches;
next	1.72;

1.72
date	95.12.14.13.05.44;	author vince;	state Exp;
branches;
next	1.71;

1.71
date	95.12.14.10.36.13;	author vince;	state Exp;
branches;
next	1.70;

1.70
date	95.12.08.16.07.06;	author vince;	state Exp;
branches;
next	1.69;

1.69
date	95.12.08.14.39.26;	author vince;	state Exp;
branches;
next	1.68;

1.68
date	95.12.08.14.38.55;	author vince;	state Exp;
branches;
next	1.67;

1.67
date	95.12.04.16.36.21;	author vince;	state Exp;
branches;
next	1.66;

1.66
date	95.11.29.14.00.27;	author vince;	state Exp;
branches;
next	1.65;

1.65
date	95.11.29.13.18.46;	author vince;	state Exp;
branches;
next	1.64;

1.64
date	95.11.25.16.53.41;	author vince;	state Exp;
branches;
next	1.63;

1.63
date	95.11.24.12.26.47;	author vince;	state Exp;
branches;
next	1.62;

1.62
date	95.11.21.09.56.21;	author vince;	state Exp;
branches;
next	1.61;

1.61
date	95.08.26.12.01.03;	author vince;	state Exp;
branches;
next	1.60;

1.60
date	95.08.25.15.58.26;	author vince;	state Exp;
branches;
next	1.59;

1.59
date	95.08.25.10.59.54;	author vince;	state Exp;
branches;
next	1.58;

1.58
date	95.08.23.15.16.04;	author vince;	state Exp;
branches;
next	1.57;

1.57
date	95.08.23.11.16.54;	author vince;	state Exp;
branches;
next	1.56;

1.56
date	95.08.15.18.47.12;	author vince;	state Exp;
branches;
next	1.55;

1.55
date	95.07.29.19.52.54;	author vince;	state Exp;
branches;
next	1.54;

1.54
date	95.07.14.11.36.25;	author vince;	state Exp;
branches;
next	1.53;

1.53
date	95.07.08.15.48.56;	author vince;	state Exp;
branches;
next	1.52;

1.52
date	95.07.05.15.21.22;	author vince;	state Exp;
branches;
next	1.51;

1.51
date	95.05.10.18.00.18;	author vince;	state Exp;
branches;
next	1.50;

1.50
date	95.05.10.15.10.14;	author vince;	state Exp;
branches;
next	1.49;

1.49
date	95.05.06.15.39.00;	author vince;	state Exp;
branches;
next	1.48;

1.48
date	95.05.01.10.48.50;	author vince;	state Exp;
branches;
next	1.47;

1.47
date	95.05.01.10.47.31;	author vince;	state Exp;
branches;
next	1.46;

1.46
date	95.05.01.10.44.53;	author vince;	state Exp;
branches;
next	1.45;

1.45
date	95.04.08.15.43.35;	author vince;	state Exp;
branches;
next	1.44;

1.44
date	95.04.08.14.38.50;	author vince;	state Exp;
branches;
next	1.43;

1.43
date	95.04.05.16.35.14;	author vince;	state Exp;
branches;
next	1.42;

1.42
date	95.04.03.16.56.36;	author vince;	state Exp;
branches;
next	1.41;

1.41
date	95.04.03.16.48.51;	author vince;	state Exp;
branches;
next	1.40;

1.40
date	95.04.03.16.41.40;	author vince;	state Exp;
branches;
next	1.39;

1.39
date	95.03.31.19.34.43;	author vince;	state Exp;
branches;
next	1.38;

1.38
date	95.02.23.17.15.24;	author vince;	state Exp;
branches;
next	1.37;

1.37
date	95.01.24.15.55.43;	author vince;	state Exp;
branches;
next	1.36;

1.36
date	95.01.19.12.46.07;	author vince;	state Exp;
branches;
next	1.35;

1.35
date	95.01.02.18.32.39;	author vince;	state Exp;
branches;
next	1.34;

1.34
date	94.12.30.11.32.53;	author vince;	state Exp;
branches;
next	1.33;

1.33
date	94.12.30.11.23.59;	author vince;	state Exp;
branches;
next	1.32;

1.32
date	94.12.29.17.20.10;	author vince;	state Exp;
branches;
next	1.31;

1.31
date	94.12.29.17.13.37;	author vince;	state Exp;
branches;
next	1.30;

1.30
date	94.12.28.12.18.20;	author vince;	state Exp;
branches;
next	1.29;

1.29
date	94.12.27.18.51.22;	author vince;	state Exp;
branches;
next	1.28;

1.28
date	94.12.27.18.49.13;	author vince;	state Exp;
branches;
next	1.27;

1.27
date	94.12.27.18.21.04;	author vince;	state Exp;
branches;
next	1.26;

1.26
date	94.12.18.15.06.41;	author vince;	state Exp;
branches;
next	1.25;

1.25
date	94.12.18.14.44.44;	author vince;	state Exp;
branches;
next	1.24;

1.24
date	94.11.30.08.15.06;	author vince;	state Exp;
branches;
next	1.23;

1.23
date	94.11.28.18.26.12;	author vince;	state Exp;
branches;
next	1.22;

1.22
date	94.11.26.15.55.48;	author vince;	state Exp;
branches;
next	1.21;

1.21
date	94.11.26.15.06.48;	author vince;	state Exp;
branches;
next	1.20;

1.20
date	94.10.25.16.45.52;	author vince;	state Exp;
branches;
next	1.19;

1.19
date	94.10.25.15.09.38;	author vince;	state Exp;
branches;
next	1.18;

1.18
date	94.10.25.14.48.01;	author vince;	state Exp;
branches;
next	1.17;

1.17
date	94.10.25.14.43.04;	author vince;	state Exp;
branches;
next	1.16;

1.16
date	94.10.25.12.59.40;	author vince;	state Exp;
branches;
next	1.15;

1.15
date	94.10.24.20.19.34;	author vince;	state Exp;
branches;
next	1.14;

1.14
date	94.10.24.18.17.21;	author vince;	state Exp;
branches;
next	1.13;

1.13
date	94.08.17.14.53.22;	author vince;	state Exp;
branches;
next	1.12;

1.12
date	94.08.17.11.20.32;	author vince;	state Exp;
branches;
next	1.11;

1.11
date	94.08.16.17.01.50;	author vince;	state Exp;
branches;
next	1.10;

1.10
date	94.06.13.22.36.31;	author vince;	state Exp;
branches;
next	1.9;

1.9
date	94.06.13.16.44.05;	author vince;	state Exp;
branches;
next	1.8;

1.8
date	94.06.13.00.04.42;	author vince;	state Exp;
branches;
next	1.7;

1.7
date	94.06.12.21.55.31;	author vince;	state Exp;
branches;
next	1.6;

1.6
date	94.06.06.16.28.00;	author vince;	state Exp;
branches;
next	1.5;

1.5
date	94.06.06.16.27.39;	author vince;	state Exp;
branches;
next	1.4;

1.4
date	94.06.06.15.23.00;	author vince;	state Exp;
branches;
next	1.3;

1.3
date	94.06.06.12.49.33;	author vince;	state Exp;
branches;
next	1.2;

1.2
date	94.06.04.12.51.16;	author vince;	state Exp;
branches;
next	1.1;

1.1
date	94.06.04.12.24.05;	author vince;	state Exp;
branches;
next	;


desc
@
ll
@


1.86
log
@safety
@
text
@#
# $Author: vince $
# $Header: /users/vince/src/stel/RCS/Makefile,v 1.85 1996/04/03 08:40:32 vince Exp vince $
# $Date: 1996/04/03 08:40:32 $
# $Revision: 1.85 $
# $Locker: vince $
#

# AUTHENTICATION
# -DSECURID and $(SDIDIR)=/usr/ace/system to add smart card
#  support code (unbundled)
# if user is securid registered securid auth is required
# if user is skey registered skey auth is required
# also, skey auth is required if /etc/skey.access says so
# last-resort authentication are unix passwords

# MORE CHECKS
# /etc/login.access is checked when auth succeeded

# -DGENERICLOGIN if you want to take advantage of STEL's internal login
# routine. If GENERICLOGIN is not defined, then /bin/login -f is run
# upon successful authentication. -DGENERICLOGIN is useful when system
# login is broken (i.e., it does not support the -f, -l or -p options).
# This option is turned ON by default.

# -DDESCORE if you want to take advantage of desCore DES library.
# Dana L. How DesCore's is a major speedup in respect to Eric Young's
# Libdes; speedups greatly depend on the architecture STEL runs on;
# they sometimes vary from 20% to 80% and over.
# This option is turned OFF by default.

# jrhett@@Navigist.Com
# -DSOCKS if you want to SOCKSify the stel binary.
# SOCKSLIB must be defined to where your SOCKS library is.
# Only SOCKS version 4 is supported - v5 shouldn't need to be compiled in.
# This option is turned OFF by default.

# -DNOREMEXE if you want to disallow the command remote execution feature.
# If NOREMEXE is defined it is not possible to specify commands to be
# execute remotely, and only user's standard shell is executed at
# connection time.  This feature in intended for use with restricting
# shells, such as chroot-based jail systems.  As a consequence, file
# transfer commands are disabled when using this option is set.

# You should define OFFSET_T to be the right type.
# OFFSET_T=long for most architectures
# OFFSET_T=off_t for POSIX systems

CC	= gcc
DEFS	= -DGENERICLOGIN -DCOMBOFLAG $(SYSDEFS) ### -DSECURID
INCDIRS	= -I$(DESDIR) -I$(DESCOREDIR) -I$(SKEYDIR) -I$(GMPDIR) $(OTHERINCDIR) ### -I$(SDIDIR) 

DESDIR		= ../libdes
DESCOREDIR	= ../descore
#DESCORELIB	= -ldescore

SKEYDIR	= ../skey
GMPDIR	= ../gmp-1.3.2
GNUREGEX = ../regex-0.12

# SOCKS support
#SOCKSLIB	= /usr/local/socks/lib/libsocks.a


# securid support
###SDIDIR	= /usr/ace/sun
###SDIDIR	= /usr/ace/hp
###SDILIB	= $(SDIDIR)/sdiclient.a
###SDILIB	= $(SDIDIR)/sdiclient.a

CFLAGS	= -g $(OPTIMIZE) -fwritable-strings $(DEFS) $(INCDIRS)

LDFLAGS	= -g $(OPTIMIZE) -L$(DESDIR) -L$(DESCOREDIR) \
	-L$(GMPDIR) -L$(SKEYDIR) $(OTHERLIBDIR) -lskey -ldes \
	-lgmp $(SYSLIBS) -lm

# SOCKS support
#LDFLAGS	= -g $(OPTIMIZE) -L$(DESDIR) -L$(DESCOREDIR) \
#	-L$(GMPDIR) -L$(SKEYDIR) -L$(SOCKSLIB) $(OTHERLIBDIR) -lskey -ldes \
#	-lgmp $(SYSLIBS) -lm -lsocks


S5R3OBJ = utmp_init.o utmp_login.o utmp_logout.o updwtmp.o
S5R4OBJ = utmpx_init.o utmpx_login.o utmpx_logout.o
BSD4OBJ = login.o logout.o logwtmp.o


MASTER	= steld.o sub.o makeio.o md5c.o idea.o login_access.o sdihook.o \
	  crc32.o truerand.o rc4.o  # lip.o
SLAVE	= stel.o sub.o makeio.o md5c.o idea.o \
	  crc32.o truerand.o rc4.o  # lip.o

ALLOBJ	= $(MASTER) $(SLAVE) $(BSD4OBJ) $(S5R4OBJ) $(S5R3OBJ)

SRC	= steld.c stel.c sub.c makeio.c md5c.c idea.c  \
	  utmp_init.c utmp_login.c utmp_logout.c updwtmp.c \
	  utmpx_init.c utmpx_login.c utmpx_logout.c \
	  login.c logout.c logwtmp.c login_access.c sdihook.c \
	  crc32.c truerand.c rc4.c  # lip.c

ETC	= Makefile securid.conf skey.access skey.access.5 \
	  stel.1 steld.8 login.access securid.conf skeydconf

HDR	= defs.h idea.h md5.h global.h sys_defs.h usuals.h rc4.h # lip.h

what:
	@@echo Please choose one of the following:
	@@echo "hpux, sunos4, solaris24, solaris25, irix, linux, ultrix"
	@@echo "freebsd, aix, bsdi"

hpux	: 
	make all ALLMASTER="$(S5R3OBJ) $(MASTER)" \
	ALLSLAVE="$(SLAVE)" \
	OPTIMIZE="-O2" \
	SYSDEFS="-DIDEA32 -DHIGHFIRST -DLOGPRI=LOG_INFO -DOFFSET_T=long" \
	SYSLIBS="$(DESCORELIB)"

sunos4:
	make all ALLMASTER="$(BSD4OBJ) $(MASTER) $(GNUREGEX)/regex.o" \
	ALLSLAVE="$(SLAVE) $(GNUREGEX)/regex.o" \
	OTHERINCDIR="-I$(GNUREGEX)" \
	OPTIMIZE="-O2" \
	SYSDEFS="-DSUNOS4 -DIDEA32 -DHIGHFIRST -DLOGPRI=LOG_NOTICE \
	-DOFFSET_T=off_t " \
	SYSLIBS="$(DESCORELIB)"

linux:
	make all ALLMASTER="$(S5R3OBJ) $(MASTER)" \
	ALLSLAVE="$(SLAVE)" \
	SYSDEFS="-DSMALL_CACHE -DLOGPRI=LOG_INFO -DOFFSET_T=off_t \
	-DNO_IP_PROTO" \
	SYSLIBS="$(DESCORELIB)"

irix	:
	make all ALLMASTER="$(S5R4OBJ) $(MASTER) $(GNUREGEX)/regex.o" \
	ALLSLAVE="$(SLAVE) $(GNUREGEX)/regex.o" \
	OTHERINCDIR="-I$(GNUREGEX)" \
	OPTIMIZE="-O2" \
	SYSDEFS="-DIRIX -DIDEA32 -DHIGHFIRST -DLOGPRI=LOG_INFO \
	-DOFFSET_T=off_t -DHAS_UTMPX" \
	SYSLIBS="$(DESCORELIB)"

solaris24:
	make all ALLMASTER="$(S5R4OBJ) $(MASTER)" \
	ALLSLAVE="$(SLAVE) $(GNUREGEX)/regex.o" \
	OTHERINCDIR="-I$(GNUREGEX)" \
	OPTIMIZE="-O2" \
	SYSDEFS="-DSOLARIS -DSOLARIS24 -DSYSV4 -DIDEA32 -DHIGHFIRST \
	-DLOGPRI=LOG_INFO -DOFFSET_T=off_t" \
	SYSLIBS="$(DESCORELIB) -lsocket -lnsl"

solaris25:
	make all ALLMASTER="$(S5R4OBJ) $(MASTER)" \
	ALLSLAVE="$(SLAVE)" \
	OPTIMIZE="-O2" \
	SYSDEFS="-DSOLARIS -DSYSV4 -DIDEA32 -DHIGHFIRST -DLOGPRI=LOG_INFO \
	-DOFFSET_T=off_t" \
	SYSLIBS="$(DESCORELIB) -lsocket -lnsl"

freebsd:
	make all ALLMASTER="$(BSD4OBJ) $(MASTER)" \
	ALLSLAVE="$(SLAVE)" \
	OPTIMIZE="-O2" \
	SYSDEFS="-DIDEA32 -DLOGPRI=LOG_INFO -DOFFSET_T=off_t \
	-DHAS_SYS_PARAM_H" \
	SYSLIBS="$(DESCORELIB) -lutil"

bsdi:
	make all ALLMASTER="$(BSD4OBJ) $(MASTER)" \
	ALLSLAVE="$(SLAVE)" \
	OPTIMIZE="-O2" \
	SYSDEFS="-DBSDI -DIDEA32 -DLOGPRI=LOG_INFO -DOFFSET_T=off_t \
	-DHAS_SYS_PARAM_H" \
	SYSLIBS="$(DESCORELIB)"

ultrix:
	make all ALLMASTER="$(BSD4OBJ) $(MASTER)" \
	ALLSLAVE="$(SLAVE)" \
	OPTIMIZE="-O2" \
	SYSDEFS="-DIDEA32 -DHIGHFIRST -DLOGPRI=LOG_INFO -DOFFSET_T=off_t \
	-DNO_IP_PROTO" \
	SYSLIBS="$(DESCORELIB)"

aix:
	make all ALLMASTER="$(BSD4OBJ) $(MASTER)" \
	ALLSLAVE="$(SLAVE)" \
	OPTIMIZE="-O2" \
	SYSDEFS="-DAIX -DIDEA32 -DHIGHFIRST -DLOGPRI=LOG_INFO -DOFFSET_T=off_t"\
	SYSLIBS="$(DESCORELIB)"



all:	steld stel

steld	: $(ALLMASTER)
	$(CC) $(ALLMASTER) $(SDILIB) -o $@@ $(LDFLAGS)

stel	: $(ALLSLAVE)
	$(CC) $(ALLSLAVE) -o $@@ $(LDFLAGS)
	chmod 711 $@@

ci	:
	ci -msafety -q -l $(SRC) $(ETC)

shar	:
	shar $(SRC) $(HDR) $(ETC) > stel.shar

lint	:
	lint \
	-DIDEA32 -DHIGHFIRST -DLOGPRI=LOG_INFO -DOFFSET_T=long \
	-I$(DESDIR) -I$(DESCOREDIR) -I$(SKEYDIR) -I$(GMPDIR)  $(DEFS) $(SRC)

wc	:
	wc -l $(SRC) $(HDR)

clean	:
	/bin/rm -f $(ALLOBJ) core steld stel

signatures	:
	echo > signatures
	echo Wrapped and signed on this date `date` >> signatures
	echo >> signatures
	md5 $(SRC) $(HDR) $(ETC) >> signatures
	echo >> signatures
	echo vince >> signatures
	pgp -sa signatures
	rm signatures

tag	:
	ctags -w $(SRC)
@


1.85
log
@safety
@
text
@d3 3
a5 3
# $Header: /users/vince/src/stel/RCS/Makefile,v 1.84 1996/04/01 16:17:21 vince Exp vince $
# $Date: 1996/04/01 16:17:21 $
# $Revision: 1.84 $
d50 1
a50 2
#DEFS	= -DGENERICLOGIN -DCOMBOFLAG $(SYSDEFS) ### -DSECURID
DEFS	= -DNOREMEXEC -DGENERICLOGIN -DCOMBOFLAG $(SYSDEFS)
d89 1
a89 1
	vers.o crc32.o truerand.o rc4.o  # lip.o
d91 1
a91 1
	vers.o crc32.o truerand.o rc4.o  # lip.o
d101 2
a102 2
ETC	= Makefile securid.conf skey.access skey.access.5 newvers.sh \
	  stel.1 steld.1 login.access securid.conf skeydconf
a193 3

vers.c	:
	sh newvers.sh
@


1.84
log
@safety
@
text
@d3 3
a5 3
# $Header: /users/vince/src/stel/RCS/Makefile,v 1.83 1996/03/31 09:41:11 vince Exp vince $
# $Date: 1996/03/31 09:41:11 $
# $Revision: 1.83 $
d38 7
d50 2
a51 1
DEFS	= -DGENERICLOGIN -DCOMBOFLAG $(SYSDEFS) ### -DSECURID
@


1.83
log
@safety
@
text
@d3 3
a5 3
# $Header: /users/vince/src/stel-dist/stel/RCS/Makefile,v 1.82 1996/03/30 14:58:08 vince Exp vince $
# $Date: 1996/03/30 14:58:08 $
# $Revision: 1.82 $
d43 1
a43 1
#DEFS	= -DGENERICLOGIN -DCOMBOFLAG $(SYSDEFS) ### -DSECURID
@


1.82
log
@safety
@
text
@d3 4
a6 4
# $Header: /users/vince/src/stel/RCS/Makefile,v 1.81 1996/02/03 13:47:54 vince Exp $
# $Date: 1996/02/03 13:47:54 $
# $Revision: 1.81 $
# $Locker:  $
a42 1
DEFS	=  -DGENERICLOGIN -DCOMBOFLAG $(SYSDEFS) ### -DSECURID
d69 6
@


1.81
log
@safety
@
text
@d3 3
a5 3
# $Header: /home/vince/src/stel/RCS/Makefile,v 1.80 1996/01/27 11:47:48 vince Exp $
# $Date: 1996/01/27 11:47:48 $
# $Revision: 1.80 $
d24 1
d30 1
d36 1
d96 2
a97 1
	@@echo "hpux, sunos4, solaris, irix, linux, ultrix, freebsd"
d131 1
a131 1
solaris:
d133 9
d155 8
@


1.80
log
@safety
@
text
@d3 4
a6 4
# $Header: /home/vince/src/stel/RCS/Makefile,v 1.79 1996/01/26 15:15:13 vince Exp vince $
# $Date: 1996/01/26 15:15:13 $
# $Revision: 1.79 $
# $Locker: vince $
d62 1
a62 1
CFLAGS	=  -g -O2 -fwritable-strings $(DEFS) $(INCDIRS)
d64 1
a64 1
LDFLAGS	= -g -O2 -L$(DESDIR) -L$(DESCOREDIR) \
d98 1
d106 1
d122 1
d130 1
d138 1
d146 1
d154 1
@


1.79
log
@safety
@
text
@d3 3
a5 3
# $Header: /res/usr/vince/src/stel-dist/stel/RCS/Makefile,v 1.78 1996/01/05 09:53:56 vince Exp vince $
# $Date: 1996/01/05 09:53:56 $
# $Revision: 1.78 $
d87 1
a87 1
	  stel.1 steld.1 login.access securid.conf skeyd.conf
@


1.78
log
@safety
@
text
@d3 3
a5 3
# $Header: /res/usr/vince/src/stel-dist/stel/RCS/Makefile,v 1.77 1996/01/03 18:20:26 vince Exp vince $
# $Date: 1996/01/03 18:20:26 $
# $Revision: 1.77 $
d86 2
a87 1
ETC	= Makefile securid.conf skey.access skey.access.5 newvers.sh
@


1.77
log
@safety
@
text
@d3 3
a5 3
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.76 1996/01/02 16:41:03 vince Exp vince $
# $Date: 1996/01/02 16:41:03 $
# $Revision: 1.76 $
d40 1
a40 1
DEFS	=  -DGENERICLOGIN -DCOMBOFLAG -DDESCORE  $(SYSDEFS) ### -DSECURID
d46 1
d97 2
a98 3
	SYSDEFS="-DIDEA32 -DHIGHFIRST -DLOGPRI=LOG_INFO -DOFFSET_T=long \
	-DDESCORE" \
	SYSLIBS="-ldescore"
d105 2
a106 2
	-DOFFSET_T=off_t -DDESCORE" \
	SYSLIBS="-ldescore"
d112 2
a113 2
	-DNO_IP_PROTO -DDESCORE" \
	SYSLIBS="-ldescore"
a114 1

d120 2
a121 2
	-DOFFSET_T=off_t -DHAS_UTMPX -DDESCORE" \
	SYSLIBS="-ldescore"
d127 2
a128 2
	-DOFFSET_T=off_t -DDESCORE" \
	SYSLIBS="-ldescore -lsocket -lnsl"
d134 2
a135 2
	-DHAS_SYS_PARAM_H -DDESCORE" \
	SYSLIBS="-ldescore -lutil"
d141 2
a142 2
	-DNO_IP_PROTO -DDESCORE" \
	SYSLIBS="-ldescore"
d147 2
a148 3
	SYSDEFS="-DAIX -DIDEA32 -DHIGHFIRST -DLOGPRI=LOG_INFO -DOFFSET_T=off_t \
	-DDESCORE" \
	SYSLIBS="-ldescore"
@


1.76
log
@safety
@
text
@d3 3
a5 3
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.75 1995/12/26 19:22:18 vince Exp vince $
# $Date: 1995/12/26 19:22:18 $
# $Revision: 1.75 $
d129 1
a129 1
	SYSLIBS="-ldescore -lsocket -lnsl -lucb"
@


1.75
log
@safety
@
text
@d3 4
a6 4
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.74 1995/12/21 18:00:21 vince Exp $
# $Date: 1995/12/21 18:00:21 $
# $Revision: 1.74 $
# $Locker:  $
a34 4
# dunigan@@thdsun.epm.ornl.gov
# -DDUNIGAN_CRC32 to make use of a weird, but more portable, CRC32 like
# checksum algorithm.

d40 2
a41 2
DEFS	=  -DGENERICLOGIN -DCOMBOFLAG -DDUNIGAN_CRC32 $(SYSDEFS) ### -DSECURID
#DEFS	= -DGENERICLOGIN -DCOMBOFLAG -DDUNIGAN_CRC32 $(SYSDEFS) ### -DSECURID
@


1.74
log
@safety
@
text
@d3 3
a5 3
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.73 1995/12/19 08:37:40 vince Exp $
# $Date: 1995/12/19 08:37:40 $
# $Revision: 1.73 $
d28 1
a28 3
# they usually vary from 20% to 80% and over.  An example: it takes
# 111 seconds to cat a file on an hpux box using IDEA, 134 secs using
# libdes in 3D mode, 86 secs using descore in 3DES mode.
@


1.73
log
@safety
@
text
@d3 3
a5 3
# $Header: /res/usr/vince/src/stel-dist/stel/RCS/Makefile,v 1.72 1995/12/14 13:05:44 vince Exp $
# $Date: 1995/12/14 13:05:44 $
# $Revision: 1.72 $
d21 3
a23 12
# routine. The default is to left GENERICLOGIN undefined, and run
# /bin/login -f when authentication succeedes. -DGENERICLOGIN is
# useful when system login is broken (i.e., it does not support the
# -f, -l or -p options. this typical for solaris, so define GENERICLOGIN
# on solaris boxes).

# -DSYSLOGINONLY if you want to use system's login program as the only
# authentication system. Internal authentication methods and user
# accounting routines are compiled out, authentication is fully delegated
# to /bin/login, a la telnetd. This option is useful when /bin/login is
# capable of performing strong authentication methods, such as S/Key or
# SecurID.
d38 1
a38 1
# -DDUNIGAN to make use of a weird, but more portable, CRC32 like
d46 2
a47 3
DEFS	= -DGENERICLOGIN -DCOMBOFLAG -DDUNIGAN $(SYSDEFS) ### -DSECURID
#DEFS	= $(SYSDEFS) -DSECURID -DSYSLOGINONLY
#DEFS = $(SYSDEFS) -DSECURID -DSYSLOGINONLY  ### -DSOCKS
d61 1
a61 1
# securid support, when SYSLOGINONLY is NOT defined
@


1.72
log
@safety
@
text
@d3 3
a5 3
# $Header: /res/usr/vince/src/stel-dist/stel/RCS/Makefile,v 1.71 1995/12/14 10:36:13 vince Exp $
# $Date: 1995/12/14 10:36:13 $
# $Revision: 1.71 $
d41 9
d55 1
a55 1
DEFS	= -DGENERICLOGIN $(SYSDEFS) ### -DSECURID
d57 1
d67 4
d145 1
a145 1
	SYSLIBS="-ldescore -lsocket -lnsl"
@


1.71
log
@safety
@
text
@d3 4
a6 4
# $Header: /res/usr/vince/src/stel-dist/stel/RCS/Makefile,v 1.70 1995/12/08 16:07:06 vince Exp vince $
# $Date: 1995/12/08 16:07:06 $
# $Revision: 1.70 $
# $Locker: vince $
d63 1
a63 1
CFLAGS	=  -O2 -fwritable-strings $(DEFS) $(INCDIRS)
d65 1
a65 1
LDFLAGS	= -O2 -L$(DESDIR) -L$(DESCOREDIR) \
@


1.70
log
@safety
@
text
@d3 3
a5 3
# $Header: /res/usr/vince/src/stel-dist/stel/RCS/Makefile,v 1.69 1995/12/08 14:39:26 vince Exp vince $
# $Date: 1995/12/08 14:39:26 $
# $Revision: 1.69 $
d146 8
@


1.69
log
@safety
@
text
@d3 3
a5 3
# $Header: /res/usr/vince/src/stel-dist/stel/RCS/Makefile,v 1.68 1995/12/08 14:38:55 vince Exp vince $
# $Date: 1995/12/08 14:38:55 $
# $Revision: 1.68 $
d63 1
a63 1
CFLAGS	=  -g -O -fwritable-strings $(DEFS) $(INCDIRS)
d65 1
a65 1
LDFLAGS	= -g -O -L$(DESDIR) -L$(DESCOREDIR) \
a68 5
# for 4.4BSD systems
#LDFLAGS	= -g -L$(DESDIR) -L$(DESCOREDIR) -L$(GMPDIR) \
	-L$(SKEYDIR) $(OTHERLIBDIR) -lskey -ldes \
	-lgmp $(SYSLIBS) -lm -lutil

d114 2
a115 1
	-DNO_IP_PROTO"
d119 3
a121 2
	make all ALLMASTER="$(S5R4OBJ) $(MASTER)" \
	ALLSLAVE="$(SLAVE)" \
d138 1
a138 1
	SYSLIBS="-ldescore"
@


1.68
log
@safety
@
text
@d3 4
a6 4
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.67 1995/12/04 16:36:21 vince Exp $
# $Date: 1995/12/04 16:36:21 $
# $Revision: 1.67 $
# $Locker:  $
d92 1
a92 2
ETC	= Makefile securid.conf skey.access skey.access.5 \
	  README EXTENDED-ABSTRACT TODO COPYING newvers.sh
@


1.67
log
@safety
@
text
@d3 4
a6 4
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.66 1995/11/29 14:00:27 vince Exp vince $
# $Date: 1995/11/29 14:00:27 $
# $Revision: 1.66 $
# $Locker: vince $
d46 1
a46 1
DEFS	= -DGENERICLOGIN -DDESCORE $(SYSDEFS) ### -DSECURID
d55 1
a55 1
#GNUREGEX = ../regex-0.12
d67 1
a67 1
	-ldescore -lgmp $(SYSLIBS) -lm
d72 1
a72 1
	-ldescore -lgmp $(SYSLIBS) -lm -lutil
d104 3
a106 1
	SYSDEFS="-DIDEA32 -DHIGHFIRST -DLOGPRI=LOG_INFO -DOFFSET_T=long"
d109 3
a111 2
	make all ALLMASTER="$(BSD4OBJ) $(MASTER)" \
	ALLSLAVE="$(SLAVE)" \
d113 2
a114 1
	-DOFFSET_T=off_t"
d119 2
a120 1
	SYSDEFS="-DSMALL_CACHE -DLOGPRI=LOG_INFO -DOFFSET_T=off_t -DNO_IP_PROTO"
d122 1
d127 2
a128 1
	-DOFFSET_T=off_t -DHAS_UTMPX"
d134 2
a135 2
	-DOFFSET_T=off_t" \
	SYSLIBS="-lsocket -lnsl"
d140 3
a142 1
	SYSDEFS="-DIDEA32 -DLOGPRI=LOG_INFO -DOFFSET_T=off_t -DHAS_SYS_PARAM_H"
d148 2
a149 1
	-DNO_IP_PROTO"
a152 3

regex.o	:
	-ln -s $(GNUREGEX)/$@@ $@@
@


1.66
log
@safety
@
text
@d3 3
a5 3
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.65 1995/11/29 13:18:46 vince Exp vince $
# $Date: 1995/11/29 13:18:46 $
# $Revision: 1.65 $
d55 1
a55 1
GNUREGEX = ../regex-0.12
d63 1
a63 1
CFLAGS	=  -mpa-risc-1-0 -static -g -O -fwritable-strings $(DEFS) $(INCDIRS)
d65 1
a65 1
LDFLAGS	= -mpa-risc-1-0 -static -g -O -L$(DESDIR) -L$(DESCOREDIR) \
a79 2
	regex.o vers.o crc32.o truerand.o rc4.o  # lip.o
SLAVE	= stel.o sub.o makeio.o md5c.o idea.o regex.o \
d81 2
d128 1
a128 3
	OTHERINCDIR="-I/usr/ucbinclude" \
	OTHERLIBDIR="-L/usr/ucblib" \
	SYSLIBS="-lucb -lsocket -lnsl"
d145 1
a145 1
	ln -s $(GNUREGEX)/$@@ $@@
@


1.65
log
@safety
@
text
@d3 4
a6 4
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.64 1995/11/25 16:53:41 vince Exp $
# $Date: 1995/11/25 16:53:41 $
# $Revision: 1.64 $
# $Locker:  $
d37 3
a39 1
# they usually vary from 20% to 80% and over.
@


1.64
log
@safety
@
text
@d3 3
a5 3
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.63 1995/11/24 12:26:47 vince Exp $
# $Date: 1995/11/24 12:26:47 $
# $Revision: 1.63 $
d34 5
d44 1
a44 1
DEFS	= -DGENERICLOGIN $(SYSDEFS) ### -DSECURID
d46 5
a50 2
INCDIRS	= -I$(DESDIR) -I$(SKEYDIR) -I$(GMPDIR) $(OTHERINCDIR) ### -I$(SDIDIR) 
DESDIR	= ../libdes
d63 3
a65 1
LDFLAGS	= -mpa-risc-1-0 -static -g -O -L$(DESDIR) -L$(GMPDIR) -L$(SKEYDIR) $(OTHERLIBDIR) -lskey -ldes -lgmp $(SYSLIBS) -lm
d68 3
a70 1
#LDFLAGS	= -g -L$(DESDIR) -L$(GMPDIR) -L$(SKEYDIR) $(OTHERLIBDIR) -lskey -ldes -lgmp $(SYSLIBS) -lm -lutil
d166 1
a166 1
	-I$(DESDIR) -I$(SKEYDIR) -I$(GMPDIR)  $(DEFS) $(SRC)
@


1.63
log
@safety
@
text
@d3 3
a5 3
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.62 1995/11/21 09:56:21 vince Exp $
# $Date: 1995/11/21 09:56:21 $
# $Revision: 1.62 $
d66 1
a66 1
	regex.o vers.o crc32.o truerand.o rc4.o # lip.o
d68 1
a68 1
	vers.o crc32.o truerand.o rc4.o # lip.o
d76 1
a76 1
	  crc32.c truerand.c rc4.c # lip.c
@


1.62
log
@safety
@
text
@d3 2
a4 2
# $Header: /users/vince/src/stel/RCS/Makefile,v 1.62 1995/11/15 13:54:52 vince Exp $
# $Date: 1995/11/15 13:54:52 $
d66 1
a66 1
	regex.o vers.o crc32.o truerand.o # lip.o
d68 1
a68 1
	vers.o crc32.o truerand.o # lip.o
d76 1
a76 1
	  crc32.c truerand.c # lip.c
d81 1
a81 1
HDR	= defs.h idea.h md5.h global.h sys_defs.h usuals.h # lip.h
@


1.61
log
@safety
@
text
@d3 3
a5 3
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.60 1995/08/25 15:58:26 vince Exp $
# $Date: 1995/08/25 15:58:26 $
# $Revision: 1.60 $
d39 1
a39 1
DEFS	= -DDEBUG $(SYSDEFS) ### -DSECURID
d53 1
a53 1
CFLAGS	=  -g -O -fwritable-strings $(DEFS) $(INCDIRS)
d55 1
a55 1
LDFLAGS	= -g -O -L$(DESDIR) -L$(GMPDIR) -L$(SKEYDIR) $(OTHERLIBDIR) -lskey -ldes -lgmp $(SYSLIBS) -lm
d66 1
a66 1
	regex.o vers.o crc32.o # lip.o
d68 1
a68 1
	vers.o crc32.o # lip.o
d76 1
a76 1
	  crc32.c # lip.c
@


1.60
log
@safety
@
text
@d3 3
a5 3
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.59 1995/08/25 10:59:54 vince Exp $
# $Date: 1995/08/25 10:59:54 $
# $Revision: 1.59 $
d39 1
a39 1
DEFS	= $(SYSDEFS) ### -DSECURID
@


1.59
log
@safety
@
text
@d3 3
a5 3
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.58 1995/08/23 15:16:04 vince Exp $
# $Date: 1995/08/23 15:16:04 $
# $Revision: 1.58 $
d23 3
a25 1
# useful when system login is broken.
d171 3
@


1.58
log
@safety
@
text
@d3 3
a5 3
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.57 1995/08/23 11:16:54 vince Exp $
# $Date: 1995/08/23 11:16:54 $
# $Revision: 1.57 $
d39 1
a39 2
INCDIRS	= -I$(DESDIR) -I$(SKEYDIR) -I$(GMPDIR) ### -I$(SDIDIR) 
INCDIRS	= -I$(DESDIR) -I$(SKEYDIR) -I$(GMPDIR) -I$(SDIDIR) 
d51 1
a51 1
CFLAGS	=  -g -O -fwritable-strings $(INCDIRS) $(DEFS)
d77 1
a77 1
	  README EXTENDED-ABSTRACT TODO COPYING
d110 5
a114 3
	SYSDEFS="-DSOLARIS -DSYSV4 -L/usr/ucblib -I/usr/ucbinclude\
	-DIDEA32 -DHIGHFIRST -DLOGPRI=LOG_INFO -DOFFSET_T=off_t" \
	OTHERLIBDIR="-L/usr/ucblib" SYSLIBS="-lucb -lsocket -lnsl"
d118 1
a118 1
	ALLSLAVE="$(SLAVE)"\
d124 2
a125 1
	SYSDEFS="-DIDEA32 -DHIGHFIRST -DLOGPRI=LOG_INFO -DOFFSET_T=off_t -DNO_IP_PROTO"
d150 3
a152 1
	lint $(DEFS) $(SRC)
@


1.57
log
@safety
@
text
@d3 4
a6 4
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.56 1995/08/15 18:47:12 vince Exp vince $
# $Date: 1995/08/15 18:47:12 $
# $Revision: 1.56 $
# $Locker: vince $
d155 10
@


1.56
log
@safety
@
text
@d3 3
a5 3
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.55 1995/07/29 19:52:54 vince Exp vince $
# $Date: 1995/07/29 19:52:54 $
# $Revision: 1.55 $
d37 2
a38 2
#DEFS	= $(SYSDEFS) ### -DSECURID
DEFS	= $(SYSDEFS) -DSECURID -DSYSLOGINONLY
d46 1
a46 1
# securid
d48 1
a48 1
SDIDIR	= /usr/ace/hp
d50 2
a51 1
SDILIB	= $(SDIDIR)/sdiclient.a
d53 3
a55 2
#LDFLAGS	= -static -Wl,-a,archive -g -L$(DESDIR) -L$(GMPDIR) -L$(SKEYDIR) $(OTHERLIBDIR) -lskey -ldes -lgmp $(SYSLIBS) -lm
LDFLAGS	= -g -L$(DESDIR) -L$(GMPDIR) -L$(SKEYDIR) $(OTHERLIBDIR) -lskey -ldes -lgmp $(SYSLIBS) -lm
d65 1
a65 1
	regex.o vers.o # lip.o
d67 1
a67 1
	vers.o # lip.o
d74 2
a75 1
	  login.c logout.c logwtmp.c login_access.c sdihook.c # lip.c
@


1.55
log
@safety
@
text
@d3 4
a6 4
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.54 1995/07/14 11:36:25 vince Exp $
# $Date: 1995/07/14 11:36:25 $
# $Revision: 1.54 $
# $Locker:  $
d22 2
a23 1
# /bin/login -f when authentication succeedes.
d28 3
a30 1
# to /bin/login, a la telnetd.
d39 2
a40 2
INCDIRS	= -I$(DESDIR) -I$(SKEYDIR) -I$(GMPDIR) -I$(GNUREGEX) ### -I$(SDIDIR) 
INCDIRS	= -I$(DESDIR) -I$(SKEYDIR) -I$(GMPDIR) -I$(GNUREGEX) -I$(SDIDIR) 
d63 2
a64 2
	$(GNUREGEX)/regex.o vers.o # lip.o
SLAVE	= stel.o sub.o makeio.o md5c.o idea.o $(GNUREGEX)/regex.o \
d124 3
@


1.54
log
@safety
@
text
@d3 3
a5 3
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.53 1995/07/08 15:48:56 vince Exp $
# $Date: 1995/07/08 15:48:56 $
# $Revision: 1.53 $
d20 9
d34 2
a35 1
DEFS	= $(SYSDEFS) ### -DSECURID
d37 1
d45 1
d47 1
d60 3
a62 2
	regex.o vers.o # lip.o
SLAVE	= stel.o sub.o makeio.o md5c.o idea.o regex.o vers.o # lip.o
a130 3

regex.o	:
	cp $(GNUREGEX)/$@@ $@@
@


1.53
log
@safety
@
text
@d3 3
a5 3
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.52 1995/07/05 15:21:22 vince Exp $
# $Date: 1995/07/05 15:21:22 $
# $Revision: 1.52 $
d46 1
a46 1
MASTER	= steld.o sub.o makeio.o md5.o idea.o login_access.o sdihook.o \
d48 1
a48 1
SLAVE	= stel.o sub.o makeio.o md5.o idea.o regex.o vers.o # lip.o
d52 1
a52 1
SRC	= steld.c stel.c sub.c makeio.c md5.c idea.c  \
d60 1
a60 1
HDR	= defs.h idea.h md5.h sys_defs.h usuals.h # lip.h
d80 1
a80 1
	SYSDEFS="-DSMALL_CACHE -DLOGPRI=LOG_INFO -DOFFSET_T=off_t"
d96 1
a96 1
	make all ALLMASTER="$(MASTER)" \
d103 1
a103 1
	SYSDEFS="-DIDEA32 -DHIGHFIRST -DLOGPRI=LOG_INFO -DOFFSET_T=off_t"
@


1.52
log
@safety
@
text
@d3 3
a5 3
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.51 1995/05/10 18:00:18 vince Exp $
# $Date: 1995/05/10 18:00:18 $
# $Revision: 1.51 $
d35 2
a36 1
CFLAGS	=  -g -fwritable-strings $(INCDIRS) $(DEFS)
d47 2
a48 2
	regex.o # lip.o
SLAVE	= stel.o sub.o makeio.o md5.o idea.o regex.o # lip.o
d107 3
@


1.51
log
@safety
@
text
@d3 3
a5 3
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.50 1995/05/10 15:10:14 vince Exp $
# $Date: 1995/05/10 15:10:14 $
# $Revision: 1.50 $
d26 1
a26 1
INCDIRS	= -I$(DESDIR) -I$(SKEYDIR) -I$(GMPDIR) ### -I$(SDIDIR) 
d30 1
a43 2
MASTER	= steld.o sub.o makeio.o md5.o idea.o login_access.o sdihook.o # lip.o
SLAVE	= stel.o sub.o makeio.o md5.o idea.o # lip.o
d45 4
d112 4
@


1.50
log
@safety
@
text
@d3 4
a6 4
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.49 1995/05/06 15:39:00 vince Exp vince $
# $Date: 1995/05/06 15:39:00 $
# $Revision: 1.49 $
# $Locker: vince $
d36 2
d60 1
a60 1
	@@echo "hpux, sunos4, solaris, irix, linux, ultrix"
d79 1
a79 1
	make all ALLMASTER="$(S5R3OBJ) $(MASTER)" \
d81 2
a82 1
	SYSDEFS="-DIRIX -DIDEA32 -DHIGHFIRST -DLOGPRI=LOG_INFO -DOFFSET_T=off_t"
d90 5
@


1.49
log
@safety
@
text
@d3 4
a6 4
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.48 1995/05/01 10:48:50 vince Exp $
# $Date: 1995/05/01 10:48:50 $
# $Revision: 1.48 $
# $Locker:  $
d58 1
a58 1
	@@echo "hpux, sunos4, solaris, irix, linux"
d87 5
@


1.48
log
@safety
@
text
@d3 4
a6 4
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.47 1995/05/01 10:47:31 vince Exp vince $
# $Date: 1995/05/01 10:47:31 $
# $Revision: 1.47 $
# $Locker: vince $
d20 3
d52 1
a52 1
	  README EXTENDED-ABSTRACT TODO
d63 1
a63 1
	SYSDEFS="-DIDEA32 -DHIGHFIRST -DLOGPRI=LOG_INFO"
d68 2
a69 1
	SYSDEFS="-DSUNOS4 -DIDEA32 -DHIGHFIRST -DLOGPRI=LOG_NOTICE"
d74 1
a74 1
	SYSDEFS="-DSMALL_CACHE -DLOGPRI=LOG_INFO"
d79 1
a79 1
	SYSDEFS="-DIRIX -DIDEA32 -DHIGHFIRST -DLOGPRI=LOG_INFO"
d85 1
a85 1
	-DIDEA32 -DHIGHFIRST -DLOGPRI=LOG_INFO" \
@


1.47
log
@safety
@
text
@d3 3
a5 3
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.46 1995/05/01 10:44:53 vince Exp vince $
# $Date: 1995/05/01 10:44:53 $
# $Revision: 1.46 $
d49 1
a49 1
	  README EXTENDED-ABSTRACT
@


1.46
log
@safety
@
text
@d3 4
a6 4
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.45 1995/04/08 15:43:35 vince Exp $
# $Date: 1995/04/08 15:43:35 $
# $Revision: 1.45 $
# $Locker:  $
d48 2
a49 1
ETC	= Makefile securid.conf skey.access skey.access.5 
@


1.45
log
@safety
@
text
@d3 4
a6 4
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.44 1995/04/08 14:38:50 vince Exp vince $
# $Date: 1995/04/08 14:38:50 $
# $Revision: 1.44 $
# $Locker: vince $
d38 1
a38 2
MASTER	= steld.o sub.o makeio.o md5.o idea.o login_access.o sdihook.o \
	  # lip.o
d46 1
a46 2
	  login.c logout.c logwtmp.c login_access.c sdihook.c \
	  # lip.c
d48 1
a48 1
ETC	= Makefile
@


1.44
log
@safety
@
text
@d3 4
a6 4
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.43 1995/04/05 16:35:14 vince Exp $
# $Date: 1995/04/05 16:35:14 $
# $Revision: 1.43 $
# $Locker:  $
d83 1
a83 1
	OTHERLIBDIR ="-L/usr/ucblib" SYSLIBS="-lucb -lsocket -lnsl"
@


1.43
log
@safety
@
text
@d3 3
a5 3
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.42 1995/04/03 16:56:36 vince Exp $
# $Date: 1995/04/03 16:56:36 $
# $Revision: 1.42 $
d56 1
a56 1
	@@echo "hpux, sunos4, irix, linux, sunos5"
d60 2
a61 1
	ALLSLAVE="$(SLAVE)"
d65 2
a66 1
	ALLSLAVE="$(SLAVE)" SYSDEFS="-DSUNOS4"
d70 2
a71 1
	ALLSLAVE="$(SLAVE)"
d75 2
a76 1
	ALLSLAVE="$(SLAVE)" SYSDEFS="-DIRIX"
d78 1
a78 1
sunos5:
d81 2
a82 1
	SYSDEFS="-DSOLARIS -DSYSV4 -L/usr/ucblib -I/usr/ucbinclude" \
@


1.42
log
@safety
@
text
@d3 4
a6 4
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.41 1995/04/03 16:48:51 vince Exp vince $
# $Date: 1995/04/03 16:48:51 $
# $Revision: 1.41 $
# $Locker: vince $
d31 1
a31 1
CFLAGS	=  -g -O -fwritable-strings $(INCDIRS) $(DEFS)
d38 2
a39 1
MASTER	= steld.o sub.o makeio.o md5.o idea.o login_access.o sdihook.o # lip.o
d62 1
a62 1
linux sunos4:
d65 4
@


1.41
log
@safety
@
text
@d3 3
a5 3
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.40 1995/04/03 16:41:40 vince Exp vince $
# $Date: 1995/04/03 16:41:40 $
# $Revision: 1.40 $
d22 1
a22 1
DEFS	= $(SYSDEFS) ### -DSECURID # -DUSELIP
d43 1
a43 1
SRC	= steld.c stel.c sub.c makeio.c lip.c md5.c idea.c  \
d46 2
a47 1
	  login.c logout.c logwtmp.c login_access.c sdihook.c
d51 1
a51 1
HDR	= defs.h idea.h lip.h md5.h sys_defs.h usuals.h
d92 3
@


1.40
log
@safety
@
text
@d3 4
a6 4
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.39 1995/03/31 19:34:43 vince Exp $
# $Date: 1995/03/31 19:34:43 $
# $Revision: 1.39 $
# $Locker:  $
d22 1
a22 1
DEFS	= $(SYSDEFS) ### -DSECURID
@


1.39
log
@safety
@
text
@d3 3
a5 3
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.38 1995/02/23 17:15:24 vince Exp $
# $Date: 1995/02/23 17:15:24 $
# $Revision: 1.38 $
d23 1
a23 1
INCDIRS	= -I$(DESDIR) -I$(SKEYDIR) ### -I$(SDIDIR) 
d26 1
d32 1
a32 1
LDFLAGS	= -g -L$(DESDIR) -L$(SKEYDIR) $(OTHERLIBDIR) -lskey -ldes $(SYSLIBS) -lm
d38 2
a39 2
MASTER	= steld.o sub.o makeio.o lip.o md5.o idea.o login_access.o sdihook.o 
SLAVE	= stel.o sub.o makeio.o lip.o md5.o idea.o
@


1.38
log
@safety
@
text
@d3 3
a5 3
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.37 1995/01/24 15:55:43 vince Exp $
# $Date: 1995/01/24 15:55:43 $
# $Revision: 1.37 $
d26 2
d31 1
a31 1
LDFLAGS	= -g -L$(DESDIR) -L$(SKEYDIR) -lskey -ldes $(SYSLIBS) -lm
d53 1
a53 1
	@@echo "hpux, sunos4, irix, linux (untested), sunos5 (not working yet)"
d61 1
a61 1
	ALLSLAVE="$(SLAVE)"
d69 3
a71 1
	ALLSLAVE="$(SLAVE)" SYSDEFS="-DSOLARIS" SYSLIBS="-lsocket -lnsl"
@


1.37
log
@safety
@
text
@d3 3
a5 3
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.36 1995/01/19 12:46:07 vince Exp $
# $Date: 1995/01/19 12:46:07 $
# $Revision: 1.36 $
a7 5

# ENCRYPTION
# default encryption is single DES (uses 512 bits module)
# -DIDEA	IDEA encryption (uses 1024 bits module)
# -DTRIPLE	triple DES encryption (uses 1024 bits module)
@


1.36
log
@safety
@
text
@d3 3
a5 3
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.35 1995/01/02 18:32:39 vince Exp $
# $Date: 1995/01/02 18:32:39 $
# $Revision: 1.35 $
a26 1
#DEFS	= -DSTANDALONE $(SYSDEFS) ### -DSECURID
@


1.35
log
@safety
@
text
@d3 4
a6 4
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.32 1994/12/29 17:20:10 vince Exp vince $
# $Date: 1994/12/29 17:20:10 $
# $Revision: 1.32 $
# $Locker: vince $
d27 2
a28 1
DEFS	= -DSTANDALONE $(SYSDEFS) ### -DSECURID
@


1.34
log
@safety
@
text
@d3 3
a5 3
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.33 1994/12/30 11:23:59 vince Exp vince $
# $Date: 1994/12/30 11:23:59 $
# $Revision: 1.33 $
d16 2
a17 2
# 	support code (unbundled)
# if user is securid registered (/etc/securid.conf) securid auth is required
d27 2
a28 2
DEFS	= -DSTANDALONE $(SYSDEFS) # -DSECURID # SecurID support
INCDIRS	= -I$(DESDIR) -I$(SKEYDIR) # -I$(SDIDIR) # SecurID support
d31 2
a32 1
#SDIDIR	= /usr/ace/sun # SecurID support
d40 1
a40 2
MASTER	= steld.o sub.o makeio.o lip.o md5.o idea.o login_access.o # \
	  sdihook.o $(SDIDIR)/sdiclient.a
d78 1
a78 1
	$(CC) $(ALLMASTER) -o $@@ $(LDFLAGS)
@


1.33
log
@safety
@
text
@d3 3
a5 3
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.32 1994/12/29 17:20:10 vince Exp vince $
# $Date: 1994/12/29 17:20:10 $
# $Revision: 1.32 $
d16 2
a17 2
#  support code (unbundled)
# if user is securid registered securid auth is required
d27 2
a28 2
DEFS	= -DSTANDALONE $(SYSDEFS) -DSECURID
INCDIRS	= -I$(DESDIR) -I$(SDIDIR) -I$(SKEYDIR)
d31 1
a31 1
SDIDIR	= /usr/ace/sun
d39 2
a40 2
MASTER	= steld.o sub.o makeio.o lip.o md5.o idea.o login_access.o sdihook.o \
	$(SDIDIR)/sdiclient.a
@


1.32
log
@safety
@
text
@d3 3
a5 3
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.31 1994/12/29 17:13:37 vince Exp vince $
# $Date: 1994/12/29 17:13:37 $
# $Revision: 1.31 $
d10 3
a12 3
# default encryption is single DES
# -DIDEA	IDEA encryption
# -DTRIPLE	triple DES encryption
d15 2
a16 1
# -DSECURID to add smart card support code (unbundled)
d19 2
a20 3
# /etc/skey.access is checked for unix password screening
# /etc/login.access is checked for login screening
# last-resort authentication is unix password
d22 2
d25 1
d27 2
a28 1
DEFS	= -DSTANDALONE $(SYSDEFS)
d31 2
a32 1
CFLAGS	=  -g -O -fwritable-strings -I$(DESDIR) -I$(SKEYDIR) $(DEFS)
d39 2
a40 1
MASTER	= steld.o sub.o makeio.o lip.o md5.o idea.o login_access.o
d48 1
a48 1
	  login.c logout.c logwtmp.c login_access.c
@


1.31
log
@safety
@
text
@d3 4
a6 4
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.30 1994/12/28 12:18:20 vince Exp $
# $Date: 1994/12/28 12:18:20 $
# $Revision: 1.30 $
# $Locker:  $
d9 1
d13 9
@


1.30
log
@safety
@
text
@d3 4
a6 4
# $Header: /res/usr/vince/src/stel/RCS/Makefile,v 1.29 1994/12/27 18:51:22 vince Exp vince $
# $Date: 1994/12/27 18:51:22 $
# $Revision: 1.29 $
# $Locker: vince $
d24 1
a24 1
MASTER	= steld.o sub.o makeio.o lip.o md5.o idea.o
d32 1
a32 1
	  login.c logout.c logwtmp.c
@


1.29
log
@safety
@
text
@d2 5
a6 5
# $Author:$
# $Header:$
# $Date:$
# $Revision:$
# $Locker:$
d9 4
d14 1
a14 1
DEFS	= -DIDEA -DSTANDALONE $(SYSDEFS)
d21 1
a21 1
S5R4OBJ = stream_pty.o utmpx_init.o utmpx_login.o utmpx_logout.o
d29 5
a33 2
SRC	= steld.c stel.c sub.c defs.h makeio.c \
	  lip.c lip.h md5.c md5.h idea.c idea.h usuals.h
d36 2
d40 1
a40 1
	@@echo "\thpux, sunos4 sunos5"
d46 1
a46 1
sunos4	:
d51 1
a51 1
	make all ALLMASTER="$(BSD4OBJ) $(MASTER)" \
d71 1
a71 1
	shar $(SRC) $(ETC) > stel.shar
@


1.28
log
@safety
@
text
@d1 7
a7 2
# -DIRIX for SGI systems
# -DSOLARIS for Solarium systems
d14 1
a14 1
LDFLAGS	= -g -L$(DESDIR) -L$(SKEYDIR) -lskey -ldes -lm
a15 2
# LDFLAGS = -g -Lskey -lskey -lsocket -lnsl -lm # for solarium

d47 2
a48 1
	ALLSLAVE="$(SLAVE)" SYSDEFS="-DSOLARIS"
@


1.27
log
@safety
@
text
@d5 1
a5 1
DEFS	= -DIDEA -DSTANDALONE
d13 3
a15 4
MOBJ	= steld.o sub.o makeio.o lip.o md5.o idea.o \
	  login.o logout.o logwtmp.o updwtmp.o utmp_init.o \
	  utmp_login.o utmp_logout.o 
SOBJ	= stel.o sub.o makeio.o lip.o md5.o idea.o
d17 5
d23 1
a23 3
	  lip.c lip.h md5.c md5.h idea.c idea.h usuals.h \
	  login.c logout.c logwtmp.c updwtmp.c utmp_init.c \
	  utmp_login.c utmp_logout.c 
d26 20
d48 5
a52 4
steld	: $(MOBJ)
	$(CC) $(MOBJ) -o $@@ $(LDFLAGS)
stel	: $(SOBJ)
	$(CC) $(SOBJ) -o $@@ $(LDFLAGS)
d64 1
a64 1
	/bin/rm -f $(MOBJ) $(SOBJ) core steld stel
@


1.26
log
@safety
@
text
@d13 3
a15 1
MOBJ	= steld.o sub.o makeio.o lip.o md5.o idea.o
d19 3
a21 1
	  lip.c lip.h md5.c md5.h idea.c idea.h usuals.h
@


1.25
log
@safety
@
text
@d30 2
a31 2
tar	:
	tar cvf stel.tar $(SRC) $(ETC) skey
@


1.24
log
@safety
@
text
@d6 5
a10 4
#CFLAGS	=  -g -O -fwritable-strings -I$(DESLIB) $(DEFS)
CFLAGS	=  -g -O -fwritable-strings $(DEFS)
#LDFLAGS	= -g -L$(DESLIB) -Lskey -lskey -ldes -lm
LDFLAGS	= -g -Lskey -lskey -lm
@


1.23
log
@safety
@
text
@d2 1
d10 1
@


1.22
log
@safety
@
text
@d10 2
a11 2
MOBJ	= master.o sub.o makeio.o lip.o md5.o idea.o
SOBJ	= slave.o sub.o makeio.o lip.o md5.o idea.o
d13 1
a13 1
SRC	= master.c slave.c sub.c defs.h makeio.c \
d17 1
d19 1
a19 3
all:	master slave

master	: $(MOBJ)
d21 1
a21 1
slave	: $(SOBJ)
d34 1
a34 1
	/bin/rm -f $(MOBJ) $(SOBJ) core master slave
@


1.21
log
@safety
@
text
@d1 1
a1 3
#
# define SKEY, add -lskey for S/key authentication
#
a4 1
#DESLIB	= /res/usr/vince/nobackup/libdes/libdes
d7 2
a8 2
#LDFLAGS	= -g -O -L$(DESLIB) -ldes -lm
LDFLAGS	= -g -O -lm
d28 2
a29 2
shar	:
	shar $(SRC) $(ETC) > shar.shar
@


1.20
log
@safety
@
text
@d8 2
a9 2
#CFLAGS	=  -g -O -fwritable-strings -pipe -I$(DESLIB) $(DEFS)
CFLAGS	=  -g -O -fwritable-strings -pipe $(DEFS)
@


1.19
log
@safety
@
text
@d6 1
a6 1
DEFS	= -DIDEA # -DSTANDALONE
@


1.18
log
@safety
@
text
@d6 1
d8 2
a9 2
#CFLAGS	=  -g -O -fwritable-strings -pipe -I$(DESLIB) # -DIDEA
CFLAGS	=  -g -O -fwritable-strings -pipe -DIDEA # -DSTANDALONE
d33 3
@


1.17
log
@safety
@
text
@d12 5
a16 10
DHOBJ	= dh.o
FPOBJ	= fp.o
SERVOBJ	= dhserver.o telnetd.o

MASOBJ	= master.o sub.o makeio.o lip.o md5.o idea.o
SLAOBJ	= slave.o sub.o makeio.o lip.o md5.o idea.o

SRC	= dhserver.c telnetd.c fp.c dh.c $(DHSRC)
DHSRC	= master.c slave.c sub.c defs.h makeio.c \
		lip.c lip.h md5.c md5.h idea.c idea.h usuals.h
d22 4
a25 17
liblen.a:	
	$(CC) $(CFLAGS) lip.c -c -o lip.o
	ar rv $@@ lip.o

fp	: liblen.a $(FPOBJ)
	$(CC) $(FPOBJ) -o $@@ $(LDFLAGS)

dh	: liblen.a $(DHOBJ)
	$(CC) $(DHOBJ) -o $@@ $(LDFLAGS)

dhserver: $(SERVOBJ)
	$(CC) $(SERVOBJ) -o $@@ $(LDFLAGS)

master	: $(MASOBJ)
	$(CC) $(MASOBJ) -o $@@ $(LDFLAGS)
slave	: $(SLAOBJ)
	$(CC) $(SLAOBJ) -o $@@ $(LDFLAGS)
d31 1
a31 1
	shar $(DHSRC) $(ETC) > dh.shar
d34 1
a34 2
	/bin/rm -f $(FPOBJ) $(DHOBJ) $(MASOBJ) $(SLAOBJ) \
	core master slave dhserver dh fp
@


1.16
log
@safety
@
text
@d8 1
a8 1
CFLAGS	=  -g -O -fwritable-strings -pipe -DIDEA
@


1.15
log
@safety
@
text
@a1 1
# define -DIDEA, add -lidea for IDEA encryption
d6 5
a10 3
DESLIB	= /res/usr/vince/nobackup/libdes/libdes
CFLAGS	=  -g -O -fwritable-strings -pipe -I$(DESLIB) # -DIDEA
LDFLAGS	= -g -O -L$(DESLIB) -ldes -lm
a14 2
MASOBJ	= master.o sub.o makeio.o lip.o md5.o
SLAOBJ	= slave.o sub.o makeio.o lip.o md5.o
d16 3
d21 1
a21 1
		lip.c lip.h md5.c md5.h
@


1.14
log
@safety
@
text
@d3 1
a5 1
#CC	= cc -Ae
d7 3
a9 5
#CFLAGS	= -Aa +Oall -D_INCLUDE_HPUX_SOURCE -D_INCLUDE_XOPEN_SOURCE -D_INCLUDE_POSIX_SOURCE
#CFLAGS	= -Ae +Oall
CFLAGS	=  -g -O -fwritable-strings -pipe -I/res/usr/vince/etc/lib -DIDEA
#CFLAGS	= -g
LDFLAGS	= -g -O -static -Wl,-a,archive -L/res/usr/vince/etc/lib -llip -ldes -lskey -lmd5 -lidea -lm
d14 2
a15 2
MASOBJ	= master.o sub.o makeio.o
SLAOBJ	= slave.o sub.o makeio.o
d18 2
a19 1
DHSRC	= master.c slave.c sub.c defs.h makeio.c
@


1.13
log
@safety
@
text
@d19 2
a20 2
SRC	= dhserver.c telnetd.c fp.c dh.c master.c slave.c sub.c defs.h \
	makeio.c
d48 1
a48 1
	shar $(SRC) $(ETC) > dh.shar
@


1.12
log
@safety
@
text
@d9 1
a9 1
CFLAGS	=  -g -O -fwritable-strings -I/res/usr/vince/etc/lib
d11 1
a11 1
LDFLAGS	= -g -O -static -Wl,-a,archive -L/res/usr/vince/etc/lib -llip -ldes -lskey -lmd5 -lm
d21 1
d23 1
d45 4
a48 1
	ci -msafety -q -l $(SRC) Makefile
d51 2
a52 1
	/bin/rm -f $(FPOBJ) $(DHOBJ) $(MASOBJ) $(SLAOBJ) core
@


1.11
log
@safety
@
text
@d1 4
@


1.10
log
@safety
@
text
@d5 1
a5 1
CFLAGS	=  -g -fwritable-strings -I/res/usr/vince/etc/lib
d7 1
a7 1
LDFLAGS	= -g -L/res/usr/vince/etc/lib -llip -ldes -lskey -lm
d9 1
a9 1
DHOBJ	= dh.o md5.o
d12 2
a13 2
MASOBJ	= master.o sub.o makeio.o md5.o
SLAOBJ	= slave.o sub.o makeio.o md5.o
d16 1
a16 1
	makeio.c md5.c
@


1.9
log
@safety
@
text
@d7 1
a7 1
LDFLAGS	= -g -L. -L/res/usr/vince/etc/lib -llen -ldes -lskey -lm
d18 1
a18 1
all:	liblen.a master slave
@


1.8
log
@safety
@
text
@d7 1
a7 1
LDFLAGS	= -g -L. -L/res/usr/vince/etc/lib -llen -ldes -lm
@


1.7
log
@safety
@
text
@d5 1
a5 1
CFLAGS	= -g -fwritable-strings
d7 1
a7 2
#LDFLAGS	= -L. -llen -lm
LDFLAGS	= -g -L. -llen -lm
@


1.6
log
@safety
@
text
@d1 1
a1 1
#CC	= cc
d5 2
a6 1
CFLAGS	= -fwritable-strings
d8 1
a8 1
LDFLAGS	= -L. -lskey
d13 2
a14 2
MASOBJ	= master.o sub.o makeio.o
SLAOBJ	= slave.o sub.o makeio.o
d17 1
a17 1
	makeio.c
d19 1
a19 1
all:	master slave
@


1.5
log
@safety
@
text
@d15 1
a15 1
SRC	= dhserver.c telnetd.c fp.c dh.c masterc slave.c sub.c defs.h \
@


1.4
log
@safety
@
text
@d12 2
a13 2
MASOBJ	= master.o sub.o
SLAOBJ	= slave.o sub.o
d15 2
a16 1
SRC	= dhserver.c telnetd.c fp.c dh.c masterc slave.c sub.c defs.h
@


1.3
log
@safety
@
text
@d12 2
d15 1
a15 1
SRC	= dhserver.c telnetd.c fp.c dh.c
d17 1
a17 1
all:
d32 5
d41 1
a41 1
	/bin/rm -f $(FPOBJ) $(DHOBJ) core
@


1.2
log
@safety
@
text
@d15 1
a15 1
all:	dhserver
@


1.1
log
@safety
@
text
@d6 2
a7 1
LDFLAGS	= -L. -llen -lm
d28 1
a28 1
	$(CC) $(SERVOBJ)  -o $@@
@
