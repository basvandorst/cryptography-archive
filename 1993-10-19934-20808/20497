Path: msuinfo!uwm.edu!spool.mu.edu!darwin.sura.net!haven.umd.edu!news.umbc.edu!olson
From: olson@umbc.edu (Bryan G. Olson)
Newsgroups: sci.crypt
Subject: Error in RFC1 321 (MD5) ?
Date: 18 Oct 1993 10:18:34 -0400
Organization: University of Maryland, Baltimore County Campus
Lines: 44
Sender: olson@umbc.edu (Bryan G. Olson; CMSC (G))
Distribution: world
Message-ID: <29u8jqINNn0s@umbc7.umbc.edu>
NNTP-Posting-Host: umbc7.umbc.edu
Keywords: MD5



I just ftp'd RFC 1321 ( MD5 Message-Digest Algorithm ) from
rsa.com, and I believe there is a minor error in the 
specification of the algorithm.

On page 5, the four operations used in the four rounds are
defined, and the operations for round 3 and 4 seem to have
mis-matched parameter names.  Specifically from page 5:

[...]
>>     /* Round 3. */
>>     /* Let [abcd k s t] denote the operation
>>          a = b + ((a + H(b,c,d) + X[k] + T[i]) <<< s). */
>>     /* Do the following 16 operations. */
[...]
>>     /* Round 4. */
>>     /* Let [abcd k s t] denote the operation
>>          a = b + ((a + I(b,c,d) + X[k] + T[i]) <<< s). */
>>     /* Do the following 16 operations. */
[...]

The 't' parameter is not used, and in rounds 1 and 2, the
parameters are [abcd k s i].  It looks like they meant to
use i as the formal parameter here too.   The above 
functions are inside a loop with index i, so the name i
is in use at this point.  It may be better to change all 
the i's in the round functions to t's, to avoid the name
clash.  In any case the name in the parameter list should
match the name in the function definition.

RFC 1423 ( PEM: Algorithms, Modes and Identifiers ) says
that an error has been identified in RFC 1319 ( MD2 ), 
where the description of the algorithm does not match the code.  
(The code is correct.)  I does not mention any known error in
RFC 1321 ( MD5 ).

Can someone check out whether I'm correct that this is an error ?
If is is, has it been noted yet ?
Should someone in particular be notified ?

Bryan Olson
olson@umbc.edu

