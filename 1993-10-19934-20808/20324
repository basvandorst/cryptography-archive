Path: msuinfo!uwm.edu!cs.utexas.edu!uunet!olivea!decwrl!decwrl!csus.edu!netcom.com!netcomsv!wet!wet.COM
From: naga@wet.COM (Peter Davidson)
Newsgroups: sci.crypt
Subject: crypto drivers && defraggers
Message-ID: <5793@wet.UUCP>
Date: 12 Oct 93 08:32:56 GMT
Sender: naga@wet.UUCP
Distribution: usa
Organization: Wetware Diversions, San Francisco
Lines: 65


 
Vesselin Vladimirov Bontchev writes:
 
]Newsgroups: sci.crypt
]Subject: Re: algorithm wanted
]Date: 10 Oct 93 20:12:56 GMT
]References: <6801.552.uupcb@brent.uucp>
]
]Steve Allen (steve.allen@brent.uucp) writes:
]
]> >Assume that you have a strong cipher that takes a key (say DES, if that
]> >is good enough).  You encrypt your password and the sector number to
]> >give a secondary key, and use that to encrypt the contents of the sector.
]
]> Big problem: if user runs a disk defragmentation program, which
]> moves data among sectors as necessary in order to ensure contiguous
]> storage. Then secondary keys may no longer match up with encrypted data.
]
]Here is what happens:
]
]1) You boot your computer. The crypto driver gets loaded and
]optionally mounts the encrypted logical drive after asking you for a
]password and checking it.
]
]2) You run the defragger.
]
]3) The the defragger wants to read a sector. The crypto driver
]intercepts the request, decrypts the sector and passes the decrypted
]sector to the defragger.
 
How does the crypto driver know whether the sector is actually
encrypted?  What if it decrypts a sector which has not been encrypted?
 
]4) The defragger want to write the sector somewhere else on the disk.
]The crypto driver intercepts the request, encrypts the sector and
]writes it back to the disk.
]
]Where's the problem?
]
]Regards,
]Vesselin
 
Steve seems to be talking about a file encryption program, and
indeed there's a problem, as he says.  Vesselin seems to be
talking about a background encryption utility.  Again there's a
problem, since in such a case you sometimes don't want the crypto
driver active.  For example, if you're installing a large
executable then there's no point to encrypting it during
installation (it's just a waste of time to decrypt it when it's
run).  So a crypto driver that anyone would actually pay money
for has to allow for deactivation and reactivation under user
control.  So if the user has deactivated it and forgets to
reactivate it before defragging then (if using the crypto driver
described above, which uses sector numbers) he loses all the data
on his disk.
 
Does anyone know of any such background encryption utilities that
allow deactivation and reactivation?  Send me email if you're
reluctant to mention commercial products in public on sci.crypt.
 
Regards,
Peter
 

