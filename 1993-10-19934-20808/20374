Newsgroups: sci.crypt,sci.math
Path: msuinfo!agate!usenet.ins.cwru.edu!magnus.acs.ohio-state.edu!math.ohio-state.edu!cs.utexas.edu!uunet!olivea!decwrl!pa.dec.com!e2big.mko.dec.com!peavax.mlo.dec.com!3d.enet.dec.com!roth
From: roth@3d.enet.dec.com (Jim Roth)
Subject: Re: Digits of pi
Message-ID: <1993Oct13.162340.4373@peavax.mlo.dec.com>
Sender: usenet@peavax.mlo.dec.com (USENET News System)
Organization: Digital Equipment Corporation
References: <CErF0o.4nA@chinet.chinet.com> <29fg2e$55o@news.delphi.com> <HENRIK.JOHANSSON.93Oct13140722@bond.nexus.comm.se>
Date: Wed, 13 Oct 1993 17:26:35 GMT
Lines: 51
Xref: msuinfo sci.crypt:20374 sci.math:54604


In article <HENRIK.JOHANSSON.93Oct13140722@bond.nexus.comm.se>, Henrik.Johansson@nexus.comm.se (Henrik Johansson) writes...
> 
>>Try this
>>
>>PI/4 = 4*ATAN (1/5) - ATAN(1/239)

>>There are more complicated ways to calculate PI that converge
>>much more rapidly, but this is one of my favorite due to its 
>>simplicity.

>Do you happen to have online descriptions of those more rapidly
>converging calculations?  If so - please make them available in some
>form!  Either by email to me directly, or some math newsgroup.

In the latest revision of Numerical Recipes, there is a Brent-Salamin
AGM algorithm to compute PI, but I don't have it online.

For just 10K digits of PI, a simple program like this will suffice.

- Jim

/*  1000 digits of PI					    */
/*  'Spigot' algorithm origionally due to Stanly Rabinowitz */

#include <stdio.h>

main()
{
  int d = 4, r = 10000, n = 251, m = 3.322*n*d;
  int i, j, k, q;
  static int a[3340];

  for (i = 0; i <= m; i++) a[i] = 2;
  a[m] = 4;

  for (i = 1; i <= n; i++) {
    q = 0;
    for (k = m; k > 0; k--) {
      a[k] = a[k]*r+q;
      q = a[k]/(2*k+1);
      a[k] -= (2*k+1)*q;
      q *= k;
    }
    a[0] = a[0]*r+q;
    q = a[0]/r;
    a[0] -= q*r;
    printf("%04d%s",q, i & 7 ? "  " : "\n");
  }
}

