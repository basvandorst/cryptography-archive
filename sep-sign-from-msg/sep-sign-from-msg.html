<!-- HTML file produced from file: pgpdoc2.tex>
<!-- using Hyperlatex v 1.1 (c) Otfried Schwarzkopf>
<HTML><HEAD><TITLE>PGP User's Guide, Volume II: Special Topics -- Separating signatures from messages
</TITLE>
<LINK REV="Precedes" HREF="pgpdoc2_3.html">
<LINK REV="Subdocument" HREF="pgpdoc2_2.html">
<LINK REL="Precedes" HREF="pgpdoc2_5.html">
</HEAD><BODY>
<A NAME="0"></A>
<A HREF="pgpdoc2_3.html"><IMG SRC="../images/previous.xbm" ALT="[Previous]"></A>
<A HREF="pgpdoc2_2.html"><IMG SRC="../images/up.xbm" ALT="[Up]"></A>
<A HREF="pgpdoc2_5.html"><IMG SRC="../images/next.xbm" ALT="[Next]"></A>
<BR>
<B>Go backward to <A HREF="pgpdoc2_3.html">Selecting keys via key ID
</A></B><BR>
<B>Go up to <A HREF="pgpdoc2_2.html">Special topics
</A></B><BR>
<B>Go forward to <A HREF="pgpdoc2_5.html">Decrypting the message and leaving the signature on it
</A></B><BR>
<HR>
<H2>Separating signatures from messages</H2>
<P>Normally, signature certificates are physically attached to the text
they sign.  This makes it convenient in simple cases to check
signatures.  It is desirable in some circumstances to have signature
certificates stored separately from the messages they sign.  It is
possible to generate signature certificates that are detached from the
text they sign.  To do this, combine the <KBD>b</KBD> (break) option with
the <KBD>s</KBD> (sign) option.  For example:
<PRE>
    pgp -sb letter.txt
</PRE>
This example produces an isolated signature certificate in a file
called <VAR>letter.sig</VAR>.  The contents of letter.txt are not appended
to the signature certificate.
<P>After creating the signature certificate file (letter.sig in the
above example), send it along with the original text file to the
recipient.  The recipient must have both files to check the signature
integrity.  When the recipient attempts to process the signature
file, PGP notices that there is no text in the same file with the
signature and prompts the user for the filename of the text. Only
then can PGP properly check the signature integrity.  If the
recipient knows in advance that the signature is detached from the
text file, she can specify both filenames on the command line:
<PRE>
    pgp letter.sig letter.txt
</PRE>
or: 
<PRE>
    pgp letter letter.txt
</PRE>
PGP will not have to prompt for the text file name in this case.
<P>A detached signature certificate is useful if you want to keep the
signature certificate in a separate certificate log.  A detached
signature of an executable program is also useful for detecting a
subsequent virus infection.  It is also useful if more than one party
must sign a document such as a legal contract, without nesting
signatures.  Each person's signature is independent.
<P>If you receive a ciphertext file that has the signature certificate
glued to the message, you can still pry the signature certificate
away from the message during the decryption.  You can do this with
the <KBD>-b</KBD> option during decrypt, like so:
<PRE>
    pgp -b letter
</PRE>
This decrypts the letter.pgp file and if there is a signature in it,
PGP checks the signature and detaches it from the rest of the
message, storing it in the file letter.sig.
<P>
<ADDRESS>
<HR>Comments and suggestions
  concerning this WWW page should be mailed to arne@acm.org.
</ADDRESS>
<P>
<A HREF="pgpdoc2_3.html"><IMG SRC="../images/previous.xbm" ALT="[Previous]"></A>
<A HREF="pgpdoc2_2.html"><IMG SRC="../images/up.xbm" ALT="[Up]"></A>
<A HREF="pgpdoc2_5.html"><IMG SRC="../images/next.xbm" ALT="[Next]"></A>
<BR>
</BODY></HTML>
