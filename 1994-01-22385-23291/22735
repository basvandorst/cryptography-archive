Path: msuinfo!agate!howland.reston.ans.net!pipex!uunet!Germany.EU.net!thoth.mch.sni.de!news.sni.de!nanette!nanette!news
From: Josef Moellers <mollers.pad@sni.de>
Newsgroups: comp.lang.c,sci.crypt
Subject: Re: Encrypt Data within Executable Code
Date: 10 Jan 1994 11:34:41 GMT
Organization: Siemens Nixdorf Informationssysteme AG, Paderborn, Germany
Lines: 38
Message-ID: <2greghINNicp@nanette.sto.pdb.sni.de>
References: <94008.231303JW1675A@auvm.american.edu>
NNTP-Posting-Host: uranium.sto.pdb.sni.de
Xref: msuinfo comp.lang.c:86869 sci.crypt:22735

In <94008.231303JW1675A@auvm.american.edu> James D. Watson <JW1675A@auvm.american.edu> writes:

>Hi folks -- am wondering how to encrypt data with in an executable
>program.  For example, if you wanted to have an ecryption key in
>a program but don't want it to be found by running "strings" or
>"od" or some such... Any hints or places I can look for info?

The simplest thing to do would be to xor the key with some pattern, then
re-xor to retrieve the old key:

# include	<ctype.h>

/* char key[] = "secretkey"; */
char key[] = "&06'0!>0,";

# define	xor	0x55

main()
{
    char *cp;

    for (cp = key; *cp; *cp++ ^= xor);

    for (cp = key; *cp; cp++)
    {
	printf(" %02x", *cp);
	if (isascii(*cp) && isprint(*cp))
	    printf(" (%c)", *cp);
	putchar('\n');
    }
}

Hope this helps,

--
| Josef Moellers		| c/o Siemens Nixdorf Informationssysteme AG  |
|  USA: mollers.pad@sni-usa.com	| Abt. SU MR PD 121	   | Riemekestrasse   |
| !USA: mollers.pad@sni.de	| Phone: (+49) 5251 835124 | D-33106 Paderborn|
