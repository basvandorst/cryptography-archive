<!-- HTML file produced from file: pgpdoc2.tex>
<!-- using Hyperlatex v 1.1 (c) Otfried Schwarzkopf>
<HTML><HEAD><TITLE>PGP User's Guide, Volume II: Special Topics -- "Not quite deleted" files
</TITLE>
<LINK REV="Precedes" HREF="pgpdoc2_54.html">
<LINK REV="Subdocument" HREF="vulnerabilities.html">
<LINK REL="Precedes" HREF="pgpdoc2_56.html">
</HEAD><BODY>
<A NAME="0"></A>
<A HREF="pgpdoc2_54.html"><IMG SRC="../images/previous.xbm" ALT="[Previous]"></A>
<A HREF="vulnerabilities.html"><IMG SRC="../images/up.xbm" ALT="[Up]"></A>
<A HREF="pgpdoc2_56.html"><IMG SRC="../images/next.xbm" ALT="[Next]"></A>
<BR>
<B>Go backward to <A HREF="pgpdoc2_54.html">Public key tampering
</A></B><BR>
<B>Go up to <A HREF="vulnerabilities.html">Vulnerabilities
</A></B><BR>
<B>Go forward to <A HREF="pgpdoc2_56.html">Viruses and trojan horses
</A></B><BR>
<HR>
<H2>"Not quite deleted" files</H2>
<P>Another potential security problem is caused by how most operating
systems delete files.  When you encrypt a file and then delete the
original plaintext file, the operating system doesn't actually
physically erase the data.  It merely marks those disk blocks as
deleted, allowing the space to be reused later.  It's sort of like
discarding sensitive paper documents in the paper recycling bin
instead of the paper shredder.  The disk blocks still contain the
original sensitive data you wanted to erase, and will probably
eventually be overwritten by new data at some point in the future. 
If an attacker reads these deleted disk blocks soon after they have
been deallocated, he could recover your plaintext. 
<P>In fact this could even happen accidentally, if for some reason
something went wrong with the disk and some files were accidentally
deleted or corrupted.  A disk recovery program may be run to recover
the damaged files, but this often means some previously deleted files
are resurrected along with everything else.  Your confidential files
that you thought were gone forever could then reappear and be
inspected by whomever is attempting to recover your damaged disk.  
Even while you are creating the original message with a word
processor or text editor, the editor may be creating multiple
temporary copies of your text on the disk, just because of its
internal workings.  These temporary copies of your text are deleted
by the word processor when it's done, but these sensitive fragments
are still on your disk somewhere.  
<P>Let me tell you a true horror story.  I had a friend, married with
young children, who once had a brief and not very serious affair. 
She wrote a letter to her lover on her word processor, and deleted
the letter after she sent it.  Later, after the affair was over, the
floppy disk got damaged somehow and she had to recover it because it
contained other important documents.  She asked her husband to
salvage the disk, which seemed perfectly safe because she knew she
had deleted the incriminating letter.  Her husband ran a commercial
disk recovery software package to salvage the files.  It recovered
the files alright, including the deleted letter.  He read it, which 
set off a tragic chain of events.  
<P>The only way to prevent the plaintext from reappearing is to somehow
cause the deleted plaintext files to be overwritten.  Unless you know
for sure that all the deleted disk blocks will soon be reused, you
must take positive steps to overwrite the plaintext file, and also
any fragments of it on the disk left by your word processor.  You can
overwrite the original plaintext file after encryption by using the
PGP <KBD>-w</KBD> (wipe) option.  You can take care of any fragments of the
plaintext left on the disk by using any of the disk utilities
available that can overwrite all of the unused blocks on a disk.  For
example, the Norton Utilities for MSDOS can do this.
<P>Even if you overwrite the plaintext data on the disk, it may still be
possible for a resourceful and determined attacker to recover the
data.  Faint magnetic traces of the original data remain on the disk
after it has been overwritten.  Special sophisticated disk recovery
hardware can sometimes be used to recover the data.
<P>
<ADDRESS>
<HR>Comments and suggestions
  concerning this WWW page should be mailed to arne@acm.org.
</ADDRESS>
<P>
<A HREF="pgpdoc2_54.html"><IMG SRC="../images/previous.xbm" ALT="[Previous]"></A>
<A HREF="vulnerabilities.html"><IMG SRC="../images/up.xbm" ALT="[Up]"></A>
<A HREF="pgpdoc2_56.html"><IMG SRC="../images/next.xbm" ALT="[Next]"></A>
<BR>
</BODY></HTML>
