.\"                                                                   
.\" Filename:      keys_from_string.3
.\" Description:   
.\" Author:        Tage Stabell-Kulo <tage@acm.org>
.\" Modified at:   Sat Jan 24 18:45:51 1998
.\" Modified by:   Tage Stabell-Kuloe <tage@acm.org>
.\" 	
.\" 	Copyright (c) Univerity of Tromsø, Norway
.\" 	See the file COPYING for details
.\"                                                                   



.Dd May 17, 1997
.Dt keys_from_string 3
.Os PGPlib
.Sh NAME
.Nm keys_from_string
.Nd find keys matching a string
.Sh SYNOPSIS
.Fd #include <pgplib.h>
.Ft int
.Fn keys_from_string "char *string" "int case" "int *numkeys" "PGPKEYID **keys"
\.
.Sh DESCRIPTION 
First, 
.Fa string
is looked up the the database.
If a key has this string as a user identification, that key is
returned. 
If this string is not found, the database is scanned looking
for matches.
If 
.Fa case 
is true (non zero) we preserve case, if not, everything 
is converted to UPPER case before comparison.
When scanning for keys, many may be found.
The number of keys found (and returned) is returned in
.Fa numkeys .
The array of key identifiers, returned in
.Fa keys ,
is allocated by means of 
.Fn malloc 
and the caller must free the memory when it is no longer needed.
\.
.Sh RETURN VALUES
If nothing goes wrong, 0 is returned.  Otherwise, -1 is returned.
.\
.Sh SEE ALSO
.Xr free 3
.Xr malloc 3
.Xr toupper 3
.Xr keydb_init PGPlib
.Xr PGPlib 3
.Pp
.Sh HISTORY
Written by Tage Stabell-Kulø.  First appeared in PGPlib 0.1
