Path: msuinfo!agate!doc.ic.ac.uk!uknet!pipex!uunet!hotmomma!brent!steve.allen
From: steve.allen@brent.uucp (Steve Allen) 
Newsgroups: sci.crypt
Subject: IDEA operating modes
Message-ID: <5116.552.uupcb@brent.uucp>
Date: 10 Aug 93 22:11:00 GMT
Distribution: world
Organization: The Brentwood BBS Harrison, NY  914-381-1600
Reply-To: steve.allen@brent.uucp (Steve Allen) 
References: <16C23B4A0.C445585@mizzou1.missouri.edu>
Lines: 52

C445585@mizzou1.missouri.edu (John Kelsey) writes:

>There are four modes of operation supported for DES, and they will
>generally work well with any block cipher.  These are the same modes
>of operation used for IDEA.

>Does this help?  If I missed anything, or made any weird typos, I
>appologize in advance.

I'm kind of a newbie at this, but...
DES is specified by the gummint as a communications protocol,
and the above modes are all good for communication, because they
are all self-correcting. That is, if you get a garbled block, the
next block will still decrypt OK.
If you're using encryption for file storage rather than
transmission, you can use an error-propagating protocol for
slightly more security. I'm not too good at plotting the equations,
but I'll give an example in pseudo-C...

CFB encryption with error-correction goes like this:
memcpy(block,IV);        /* copy IV to encryption area */
encrypt(block,password); /* encrypt the Initialization Vector */
if(decrypting)
shift(IV,plaintext);
xor(plaintext,block);  /* garble the plaintext here */
if(encrypting)
shift(IV,plaintext);  /* newly encrypted text becomes next IV */

CFB encryption with error-propagation goes like this:
memcpy(block,IV);        /* copy IV to encryption area */
encrypt(block,password); /* encrypt the Initialization Vector */
if(decrypting)
xor(IV,plaintext);
xor(plaintext,block);  /* garble the plaintext here */
if(encrypting)
xor(IV, plaintext);   /* This propogates the original IV */

(in the above examples, the form for memcpy(), xor() and shift() is
memcpy(dest,source).

The difference is this: if you decrypt the first algorithm with
the right password but the wrong IV, only the first block is corrupt.
If you decrypt the second algorith with the right password but the
wrong IV, every block is corrupt.
This is written on the fly, but I think I'm mostly right.
(From Matyas/Meyer)
-Steve
---
. SLMR 2.1a . Hi, I'm from the gummmint and I'm here to hepp yah.

----
The Brentwood BBS!  12 Nodes  (914)-381-1600
