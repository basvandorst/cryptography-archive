Path: msuinfo!netnews.upenn.edu!jvnc.net!darwin.sura.net!mips!sdd.hp.com!swrinde!gatech!bloom-beacon!eru.mt.luth.se!lunic!sunic2!ugle.unit.no!hanche
From: hanche@imf.unit.no (Harald Hanche-Olsen)
Newsgroups: sci.crypt
Subject: Re: MD5 "birthday" math
Message-ID: <HANCHE.92May23150711@chanur.imf.unit.no>
Date: 23 May 92 13:07:11 GMT
References: <1992May21.155100.16225@ucsu.Colorado.EDU>
	<DREIER.92May21165722@husc10.harvard.edu>
Sender: news@ugle.unit.no (NetNews Administrator)
Organization: The Norwegian Institute of Technology, Trondheim, Norway.
Lines: 30
In-Reply-To: dreier@husc10.harvard.edu's message of 21 May 92 21:57:22 GMT

In article <DREIER.92May21165722@husc10.harvard.edu> dreier@husc10.harvard.edu (Roland Dreier) writes:

   Well, first of all, let's assume that MD5 is in fact a "secure" hash
   function, specifically that every hash value is equally probable. If we
   assume this, it actually *is* true that if you just pick random pairs
   of strings, hash them, and compare, the probability of a collision is
   2^128.

   But now suppose you have one million strings. There are 

	   1000000*(1000000-1)/2 = 499999500000

   distinct pairs of strings to compare.  So the probability of a collision
   with these million string is:

	   499999500000 / 2^128 = approx 1.5 * 10^(-27) = approx 1 / 2^(-89)

   In general, for n strings the prob of a collision is n*(n-1)/2^(129).

No.  You have assumed that the n*(n-1)/2 collision events are mutually
exclusive, which is clearly not the case (indeed, by picking n large
your formula could yield a probability greater than 1).  What your
argument does show is only that the probability of a collision is less
than n*(n-1)/2^(129), but of course that is what we really wanted to
know anyway.
--
Harald Hanche-Olsen <hanche@imf.unit.no>        I eat my peas with honey
Division of mathematical sciences               I've done it all my life
The Norwegian Institute of Technology      It makes the peas taste funny
N-7034 Trondheim NORWAY                   But it keeps them on the knife
