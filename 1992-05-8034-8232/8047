Xref: msuinfo comp.arch:30520 sci.crypt:8047
Path: msuinfo!netnews.upenn.edu!jvnc.net!darwin.sura.net!mips!zaphod.mps.ohio-state.edu!usc!news.bbn.com!star-trek!malis
From: malis@star-trek.bbn.com (Andy Malis)
Newsgroups: comp.arch,sci.crypt
Subject: Re: The NSA Instruction
Message-ID: <l0092tINNtu@news.bbn.com>
Date: 30 Apr 92 16:46:21 GMT
References: <29354@hoptoad.uucp> <rv+k9af.nagle@netcom.com>
Lines: 21
NNTP-Posting-Host: archive.bbn.com

nagle@netcom.com (John Nagle) writes:
>>	Find First One (or Zero) -- can speed up emulation
>>				    of popcount on machines without it

>      Find First One is a basic part of doing floating point arithmetic
>in software, and is useful when looking for free space in bitmapped
>disk allocation tables.  Some CPUs used to do this operation by
>using the floating point unit's normalizer, but that is rare today.

FFO is also useful in applications that do their own priority-
based scheduling.  You have a list of priortized processes
represented by a bit string, along with a table of process
addresses.  When you need to schedule a process, set its bit in
the bit string (having an instruction that can set or clear
individual bits based upon their offset in the word also helps).
Then, when it comes time to run a new process, use FFO to find
the first bit in the bit string (the highest priority process
that needs to run).  The returned offset is used to index into
the table of process addresses.

Andy Malis <malis@bbn.com>    UUCP: {harvard,rutgers,uunet}!bbn!malis
