/*____________________________________________________________________________	Copyright (C) 1997 Network Associates, Inc. and its affiliates.	All rights reserved.				$Id: CmenuWaitNextEventPatch.cp,v 1.3.8.1 1998/11/12 03:08:44 heller Exp $____________________________________________________________________________*/#include "StSaveCurResFile.h"#include "CCopyPasteHack.h"#include "CmenuWaitNextEventPatch.h"CmenuWaitNextEventPatch::CmenuWaitNextEventPatch(	SGlobals &	inGlobals)		: mGlobals(inGlobals){}CmenuWaitNextEventPatch::~CmenuWaitNextEventPatch(){}	voidCmenuWaitNextEventPatch::PreWaitNextEvent(){#if ! PGP_FINDERMENU	if (CCopyPasteHack::GetCopyPasteHack() != nil) {		StSaveCurResFile	saveResFile;		LFile				thePlugFile(mGlobals.plugSpec);					thePlugFile.OpenResourceFork(fsRdPerm);		CCopyPasteHack::GetCopyPasteHack()->PreWaitNextEvent();		thePlugFile.CloseResourceFork();	}#endif}	voidCmenuWaitNextEventPatch::HandleKeyDown(){#if ! PGP_FINDERMENU	if (CCopyPasteHack::GetCopyPasteHack() != nil) {		StSaveCurResFile	saveResFile;		LFile				thePlugFile(mGlobals.plugSpec);					thePlugFile.OpenResourceFork(fsRdPerm);		CCopyPasteHack::GetCopyPasteHack()->HandleKeyDown(sEventParams);		thePlugFile.CloseResourceFork();	}#endif}