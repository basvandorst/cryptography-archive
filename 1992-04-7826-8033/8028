Xref: msuinfo comp.arch:30472 sci.crypt:8028
Path: msuinfo!uchinews!linac!pacific.mps.ohio-state.edu!zaphod.mps.ohio-state.edu!sol.ctr.columbia.edu!spool.mu.edu!uunet!hoptoad!gnu
From: gnu@hoptoad.uucp (John Gilmore)
Newsgroups: comp.arch,sci.crypt
Subject: The NSA Instruction
Message-ID: <29354@hoptoad.uucp>
Date: 29 Apr 92 20:56:36 GMT
Organization: Cygnus Support, Palo Alto
Lines: 29

It occurred to me to wonder just how many architectures have the following
instructions:

	Population Count -- tell me how many 1-bits are in this word

	Find First One (or Zero) -- can speed up emulation
				    of popcount on machines without it

I have gotten the impression that the Pop Count instruction has been
added to more than one architecture upon direct request from the US National
Security Agency, because it apparently occurs frequently in their inner
loops, but is slow to emulate in software (table lookup on parts of the word,
followed by addition of the table entries, seems best to me).

An informal question at last week's Asilomar Microcomputer Workshop
showed 5 or 10 hands when asked `Who has designed an architecture that
had one of these instructions added to it'.  Now I'm looking for actual
information on *which* architectures and *why* the instructions were
added.   (I wouldn't expect a RISC arch to have this in the first
rev, due to low frequency of use, but once NSA decided it might be
worth buying the machine, then it might appear in the second rev.)

It's been guessed that the reason they use it so much is for correlation,
e.g. xor two things and count the one-bits and you see roughly how close
they are.  Any other ideas?
-- 
John Gilmore   {sun,uunet,pyramid}!hoptoad!gnu   gnu@toad.com   gnu@cygnus.com
"It isn't given to us to know those rare moments when people
 are wide open and the lightest touch can wither or heal."
