Path: msuinfo!agate!library.ucla.edu!europa.eng.gtefsd.com!uunet!news.claremont.edu!jarthur.cs.hmc.edu!ebrandt
From: ebrandt@jarthur.cs.hmc.edu (Eli Brandt)
Newsgroups: sci.crypt
Subject: Re: Carmichael Numbers
Date: 2 Dec 1993 05:41:10 GMT
Organization: Harvey Mudd College, Claremont CA
Lines: 55
Message-ID: <2djv5m$lb@jaws.cs.hmc.edu>
References: <931130.73358.TED89@delphi.com> <jktaberCHDyt2.2F7@netcom.com>
NNTP-Posting-Host: jarthur.cs.hmc.edu

In article <jktaberCHDyt2.2F7@netcom.com>, John K. Taber <jktaber@netcom.com> wrote:
>If this is true, then how does PGP's four Little Fermat tests of 
>primality reduce the risk of getting a pseudo-prime if the pseudo-prime 
>is a Carmichael number?

It doesn't catch numbers that are pseudoprime to the Fermat test, by
definition.  It does catch ordinary composites.  The Fermat test is
looking for witnesses to the compositeness of n.  If n is composite,
a candidate witness will with some probability fail to indicate that
fact.  The reason to do multiple tests is that the error rate for
one round may be unacceptably high, while being low enough after
being raised to e.g. the fourth power.  If a number by some chance
passes the four tests, but *could* have been caught, it's not a
pseudoprime -- it's just lucky.

The test used in PGP will always indicate that a number is prime if
it in fact is.  An ordinary composite number will pass as prime only
with low probability.  A Carmichael number will certainly pass as
prime.  This is why there was an argument some time back about
whether PGP should be using a better test.

Speaking of which, should there really only be four rounds in the
test?  Going by the theory, this is pretty weak.  The PGP source
says that experimentally, each round has a rather low false-prime
rate.  But what may be happening is that different numbers have
different potential-witness false-prime rates.  Pseudoprimes have a
rate of 1.  Other numbers have a rate of less than 0.25 (is there a
better bound?).  Trusting the PGP source, we can say that most
composites have a very small rate in this size range.  But
hypothetically, there are some which have a rate approaching 0.25 --
even 0.01 is pretty bad with only 4 rounds.  This class may be quite
a bit larger than that of pseudoprimes, which would mean that we're
increasing the dubious-prime pool substantially.  Is this worth
worrying about?

>BTW, I would still like an estimate of how difficult it is to get a 
>Carmichael number instead of a prime when you begin with a random string 
>of digits.

I don't know that there are good theoretical or experimental results
for numbers of the size in question.  There's an infinity of
Carmichael numbers; their density is bounded above by some
polynomial function which I don't remember, but this is pretty
weak.  There aren't really as many as that -- this would mean they
outnumber primes.  You can try to extrapolate from numerical results
for smaller ranges...

>John K. Taber

   Eli   ebrandt@jarthur.claremont.edu
	 PGP 2 key by finger or e-mail
"Just another repulsive variation on psychopunk depravity and
 perversions.  Honest people would be repulsed by it."   -- L. Detweiler


