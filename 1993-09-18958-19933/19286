Path: msuinfo!agate!howland.reston.ans.net!vixen.cso.uiuc.edu!moe.ksu.ksu.edu!phys.ksu.edu!rjq
From: rjq@phys.ksu.edu (Rob Quinn)
Newsgroups: sci.crypt
Subject: Re: WIPE in PGP
Date: 13 Sep 1993 23:19:53 GMT
Organization: Kansas State University
Lines: 33
Message-ID: <272v6p$gb7@newserv.ksu.ksu.edu>
References: <LF5GBLES@math.fu-berlin.de> <1993Sep11.174613.22100@cs.aukuni.ac.nz>
NNTP-Posting-Host: bohr.phys.ksu.edu
Keywords: wipe, PGP

>In <LF5GBLES@math.fu-berlin.de> jiri@kirk.chemie.fu-berlin.de (Jiri Pittner) writes:
>but what I am MAINLY missing here is fsync() call before the file is unlinked.
>I am not a system programer, but I can imagine, that the data written on file,
>which is immediatelly then unlinked, are NOT transferred from the system's
>buffer to the RAW disc.

 Under some OS's (at least) an unlinked file isn't destroyed immediately. From
my SunOS4.1.2 man pages:
unlink(2)
     unlink() removes the directory entry named by  the  pathname
     pointed to by path and decrements the link count of the file
     referred to by that entry.  If this entry was the last  link
     to  the  file,  and  no  process has the file open, then all
     resources associated with the file are reclaimed.  If,  how-
     ever,  the file was open in any process, the actual resource
     reclamation is delayed until it is closed, even  though  the
     directory entry has disappeared.
sync(1)
     sync forces any information on its way to  the  disk  to  be
     written  out immediately. 
sync(2)
     sync() writes out all information in core memory that should
     be  on  disk.  This includes modified super blocks, modified
     inodes, and delayed block I/O.
update(8)
     update is a program  that  executes  the  sync(2)  primitive
     every  30  seconds.   This  insures  that the file system is
     fairly up to date[...]
--
| Open the pod bay doors please Hal.                                       |
| Open the pod bay doors please Hal.                             Rob Quinn |
| Hal, can you hear me?                                   rjq@phys.ksu.edu |
| Open the pod bay doors Hal!                        QuinnBob@KSUVM.BITNET |
