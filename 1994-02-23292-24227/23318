Path: msuinfo!agate!howland.reston.ans.net!usc!bloom-beacon.mit.edu!senator-bedfellow.mit.edu!senator-bedfellow.mit.edu!not-for-mail
From: tytso@ATHENA.MIT.EDU (Theodore Ts'o)
Newsgroups: sci.crypt
Subject: Re: ITAR prohibition of cryptographic hooks
Date: 31 Jan 1994 22:45:51 -0500
Organization: The Internet
Lines: 48
Sender: news@athena.mit.edu
Distribution: world
Message-ID: <2ikj9f$cld@senator-bedfellow.MIT.EDU>
Reply-To: tytso@ATHENA.MIT.EDU (Theodore Ts'o)
NNTP-Posting-Host: senator-bedfellow.mit.edu

   From: smb@research.att.com (Steven Bellovin)
   Date: Mon, 24 Jan 1994 01:33:38 GMT

   In article <kellyCK1zEo.o6@netcom.com>, kelly@netcom.com (Kelly Goen) writes:
   >  Actually I have heard this story going around more then once...
   > and quite frankly is is so much BS...
   > 
   > While working on crypt routines for TMAC and a B1+ kernel(designed both
   > for TMAC and for export to friendly governments) it was determined by both
   > company lawyers and representatives for the US government that leaving
   > crypto hooks didnt violate ITAR as it existed in 1990-1991(this may have
   > changed)

   As far as I know, that story was started by MIT's ``bones'' release of
   Kerberos -- that was the tack they took, in consultation with MIT's
   lawyers.  I don't recall just when that decision was made, but I think it
   would have been in the same time frame as you're referring to.

This is not true, as far as I know.  The tack taken by the ``bones''
release was that since we were not sure whether removing DES and just
leaving the calls to the encryptions routines (i.e. hooks) was good
enough, we decided to be as conservative as possible.  (FUD strikes
again....)  In this case, we actually removed all of the *calls* to the
encryption routines.

If you look in a Kerberos V4 distribution you will see sections of code
that look like this:

#ifndef NOENCRYPTION
    /* Encrypt the request ID using the session key */
    key_sched(cr.session,key_s);
    pcbc_encrypt((C_Block *)req_id->dat,(C_Block *)req_id->dat,
                 (long) req_id->length,key_s,cr.session,1);
    /* clean up */
    bzero((char *) key_s, sizeof(key_s));
#endif /* NOENCRYPTION */

``Bones'' is the V4 distribution run through a program called
``piranha'' which stripped all of the meat off of Kerberos by removing
code under the #ifndef NOENCRYPTION.  Thus, it left only the ``Bones''.  :-)

The reason why we went to all of this trouble was that we needed to
export to Bond University, in Australia.  It's actually a real pain to
maintain, and in the last release of Kerberos V4, I never bothered to
release a Bones version, since not all of the new code was put under the
proper #ifdef's.

						- Ted
