.\"                                                                   
.\" Filename:      pubkey.3
.\" Description:   
.\" Author:        Tage Stabell-Kulo <tage@acm.org>
.\" Modified at:   Sat Nov  8 18:50:52 1997
.\" Modified by:   Tage Stabell-Kuloe <tage@acm.org>
.\" 	
.\" 	Copyright (c) Univerity of Tromsø, Norway
.\" 	See the file COPYING for details
.\"                                                                   


.Dd May 17, 1997
.Dt PUBKEY 3
.Os PGPlib
.Sh NAME
.Nm pubkey
.Nd routines to manipulate public keys
.Sh SYNOPSIS
.Fd #include <pgplib.h>
.Ft int
.Fn pubkey2buf "PGPpubkey_t key" "u_char **buf"
.Ft int
.Fn buf2pubkey "u_char *buf" "int len" "PGPpubkey_t *key"
.Ft PGPpubkey_t *
.Fn copy_pubkey "PGPppubkey_t *key"
.Ft void
.Fn free_pubkey "PGPpubkey_t *key"
.Sh DESCRIPTION
These routines manipulate public keys.
.Fn pubkey2buf
and
.Fn buf2pubkey
operate on a package compatible with RFC1991.  
The size of the buffer returned by the former can be found with
.Fn get_packetlen .
.Fn copy_pubkey
will allocate space for the new key (and its internal state),
including the space for the structure itself while
.Fn free_pubkey
only frees the internal state (and not the space occupied by the
structure). 
.Pp
.Sh RETURN VALUES
Upon success 0 is returned.  If an error occurs, -1 is returned.
.Fn buf2pubkey
will return 1 if there is a syntax error in the input.
.Pp
.Sh SEE ALSO
.Xr malloc 3
.Xr free 3
.Xr get_packetlen PGPlib
.Xr PGPlib 3
.Pp
.Sh STANDARDS
The packet generated by
.Fn signature2buf 
is compatible with the format described in RFC1991.
.Pp
.Sh HISTORY
Written by Tage Stabell-Kulø.  First appeared in PGPlib 0.1
